(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2747],{9310:function(e,n,t){"use strict";var r,i=t(7294);function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}n.Z=function(e){return i.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:19.997,height:14.452},e),r||(r=i.createElement("path",{fill:"none",stroke:"currentColor",d:"M17.875 2.121L7.044 12.952 2.121 8.029",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3})))}},4606:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var r=t(5893),i=t(4015),l=t(370),s=t(8569),c=t(6156),a=t(7329),o=t(2465),d=t(7294),u=t(9226),h=t(9163),p=t(7028),x=t(4605),f=t(6280),j=t(4478),b=t(9586),m=t(9310),v=t(9148);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(){var e=(0,o.Z)(["\n  .intake-table {\n    .col-1 {\n      width: 25%;\n    }\n    .col-2 {\n      width: 35%;\n    }\n    .col-3 {\n      width: 15%;\n    }\n    .col-4 {\n      width: 15%;\n    }\n    .col-5 {\n      width: 10%;\n    }\n  }\n"]);return w=function(){return e},e}var O=h.ZP.div(w()),A=function(){var e=(0,j.R)(),n=e.setDialog,t=e.onClosed,i=(0,u.I0)(),l=(0,d.useContext)(v.AppContext).setLoading,c=(0,x.x)(),o=c.data,h=c.setData,y=c.register,w=c.hasMore,A=c.appendData,N=c.setHasMore,C=c.page,_=c.setPage,P=function(){i((0,p.c8)({page:C},(function(e,n){N(n),A(e),_((function(e){return e+1}))})))};(0,d.useEffect)((function(){P()}),[]);var k=function(e,s){window.open("".concat(e.letter_file_url),"_blank"),n({type:"DialogCustom",data:{content:(0,r.jsx)(f.sp,{onResetUser:function(n){return function(e,n,r){l(!0),i((0,p.zb)({id:e,message:n},(function(){o[r].letter_file=null,h((0,a.Z)(o)),t(),l(!1)}),(function(){l(!1)})))}(e.id,n,s)},onBanUser:function(){return n=e.id,r=s,l(!0),void i((0,p.QT)({id:n},(function(){o.splice(r,1),h((0,a.Z)(o)),t(),l(!1)}),(function(){l(!1)})));var n,r},onApproveUser:function(){return n=e.id,r=s,l(!0),void i((0,p.Hi)({id:n},(function(){o[r].letter_verified_at=!0,h((0,a.Z)(o)),t(),l(!1)}),(function(){l(!1)})));var n,r}})}})};return(0,r.jsx)(O,{className:"h-full",children:(0,r.jsxs)(s.iA,g(g({},y),{},{className:"intake-table pt-5 h-full",onLoadMore:P,hasMore:w,dataLength:o.length,children:[(0,r.jsxs)(s.iA.Header,{children:[(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Registration Date"})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Users Email"})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsxs)("p",{children:["Signature ",(0,r.jsx)("br",{})," Complete"]})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsxs)("p",{children:["Node Verification ",(0,r.jsx)("br",{})," Complete"]})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Letter of Motivation"})})]}),(0,r.jsx)(s.iA.Body,{children:o.map((function(e,n){return(0,r.jsxs)(s.iA.BodyRow,{children:[(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{children:(0,b.p)(new Date(null===e||void 0===e?void 0:e.created_at))})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{className:"truncate",children:e.email})}),(0,r.jsx)(s.iA.BodyCell,{children:!!e.signature_request_id&&(0,r.jsx)(m.Z,{className:"text-primary"})}),(0,r.jsx)(s.iA.BodyCell,{children:!!e.node_verified_at&&(0,r.jsx)(m.Z,{className:"text-primary"})}),(0,r.jsx)(s.iA.BodyCell,{children:e.letter_verified_at?(0,r.jsx)(m.Z,{className:"text-primary"}):(0,r.jsx)("button",{type:"button",onClick:function(){return k(e,n)},className:"text-primary cursor-pointer underline disabled:opacity-40 disabled:cursor-not-allowed",disabled:!e.letter_file,children:"Review"})})]},n)}))})]}))})},N=t(1664);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(){var e=(0,o.Z)(["\n  .intake-table {\n    .col-1 {\n      width: 20%;\n    }\n    .col-2 {\n      width: 25%;\n    }\n    .col-3 {\n      width: 15%;\n    }\n    .col-4 {\n      width: 15%;\n    }\n    .col-5 {\n      width: 15%;\n    }\n    .col-6 {\n      width: 10%;\n    }\n  }\n"]);return P=function(){return e},e}var k=h.ZP.div(P()),D=function(){var e=(0,u.I0)(),n=(0,x.x)(),t=n.data,i=n.register,l=n.hasMore,c=n.appendData,a=n.setHasMore,o=n.page,h=n.setPage,f=function(){e((0,p.fX)({page:o},(function(e,n){a(n),c(e),h((function(e){return e+1}))})))};return(0,d.useEffect)((function(){f()}),[]),(0,r.jsx)(k,{className:"h-full",children:(0,r.jsxs)(s.iA,_(_({},i),{},{className:"intake-table pt-5 h-full",onLoadMore:f,hasMore:l,dataLength:t.length,children:[(0,r.jsxs)(s.iA.Header,{children:[(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Registration Date"})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Users Email"})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Type"})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsxs)("p",{children:["AML API ",(0,r.jsx)("br",{})," Response"]})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsxs)("p",{children:["KYC API ",(0,r.jsx)("br",{})," Response"]})}),(0,r.jsx)(s.iA.HeaderCell,{children:(0,r.jsx)("p",{children:"Action"})})]}),(0,r.jsx)(s.iA.Body,{children:t.map((function(e,n){return(0,r.jsxs)(s.iA.BodyRow,{children:[(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{children:(0,b.p)(new Date(null===e||void 0===e?void 0:e.created_at))})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{className:"truncate",children:e.email})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{className:"capitalize",children:null===e||void 0===e?void 0:e.type})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{children:null!==e&&void 0!==e&&e.background_checks_result?"OK":"Needs Review"})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)("p",{children:"approved"===(null===e||void 0===e?void 0:e.kyc_status)?"OK":"Needs Review"})}),(0,r.jsx)(s.iA.BodyCell,{children:(0,r.jsx)(N.default,{href:"/admin/intake/verification/".concat(e.user_id),children:(0,r.jsx)("a",{className:"text-primary cursor-pointer underline",children:"Review"})})})]},n)}))})]}))})},B=(0,i.a)((function(){return(0,r.jsx)(l.Z,{children:(0,r.jsxs)(s.Zb,{className:"h-full px-24 py-7",children:[(0,r.jsxs)("div",{className:"bg-transparent h-1/2 xl:pb-2 2xl:pb-5",children:[(0,r.jsx)("div",{className:"w-full",style:{height:"70px"},children:(0,r.jsxs)("div",{className:"lg:h-70px flex flex-col justify-center",children:[(0,r.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-2.5",children:"General Intake"}),(0,r.jsx)("p",{className:"text-sm text-gray pb-3.5",children:"New members needing approval"}),(0,r.jsx)("div",{className:"border-primary border-b-2"})]})}),(0,r.jsx)("div",{className:"flex flex-col",style:{height:"calc(100% - 70px)"},children:(0,r.jsx)(A,{})})]}),(0,r.jsxs)("div",{className:"bg-transparent h-1/2 xl:pt-2 2xl:pt-5",children:[(0,r.jsx)("div",{className:"w-full",style:{height:"70px"},children:(0,r.jsxs)("div",{className:"lg:h-70px flex flex-col justify-center",children:[(0,r.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-2.5",children:"IDverification"}),(0,r.jsx)("p",{className:"text-sm text-gray pb-3.5",children:"Members wanting to get verified"}),(0,r.jsx)("div",{className:"border-primary border-b-2"})]})}),(0,r.jsx)("div",{className:"flex flex-col",style:{height:"calc(100% - 70px)"},children:(0,r.jsx)(D,{})})]})]})})}),"final-admin")},9586:function(e,n,t){"use strict";t.d(n,{p:function(){return i},e:function(){return l}});var r=t(8661),i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",t=new Date(e);return"Invalid Date"===t.toString()?t.toString():(0,r.Z)(t,n)},l=function(e){return e?"".concat(e.substr(0,10),"...").concat(e.substr(-4)):"-"}},4936:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/intake",function(){return t(4606)}])}},function(e){e.O(0,[9774,2554,1282,8930,6993,6095,8661,9669,7983,5679,8202,6394],(function(){return n=4936,e(e.s=n);var n}));var n=e.O();_N_E=n}]);