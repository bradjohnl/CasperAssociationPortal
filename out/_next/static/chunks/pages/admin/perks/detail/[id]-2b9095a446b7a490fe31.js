(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2519],{19096:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var s=n(85893),i=n(67294),l=n(11163),t=n(49226),a=n(24015),d=n(37124),c=n(12245),o=n(17202),h=n(22163),u=n(51040),x=n(87028),m=n(96156),p=n(32465),j=n(29163),f=n(64605),b=n(29586);function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){(0,m.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function N(){var e=(0,p.Z)(["\n  .perks-engagement-table {\n    .col-1 {\n      width: 34%;\n    }\n    .col-2 {\n      width: 33%;\n    }\n    .col-3 {\n      width: 33%;\n    }\n  }\n"]);return N=function(){return e},e}var w=j.ZP.div(N()),y=function(e){var r=e.id,n=(0,t.I0)(),l=(0,f.x)(),a=l.data,d=l.params,o=l.register,h=l.hasMore,u=l.appendData,m=l.setHasMore,p=l.page,j=l.setPage,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;n((0,x.lN)(g({id:r,page:e},s),(function(e,r){m(r),u(e),j((function(e){return e+1}))})))};return(0,i.useEffect)((function(){v()}),[]),(0,s.jsx)(w,{className:"h-full",children:(0,s.jsxs)(c.iA,g(g({},o),{},{className:"perks-engagement-table pt-5 h-full",onLoadMore:v,hasMore:h,dataLength:a.length,children:[(0,s.jsxs)(c.iA.Header,{children:[(0,s.jsx)(c.iA.HeaderCell,{children:(0,s.jsx)("p",{children:"User Email"})}),(0,s.jsx)(c.iA.HeaderCell,{children:(0,s.jsx)("p",{children:"Date First Clicked"})}),(0,s.jsx)(c.iA.HeaderCell,{children:(0,s.jsx)("p",{children:"Times Followed"})})]}),(0,s.jsx)(c.iA.Body,{className:"padding-tracker",children:a.map((function(e,r){return(0,s.jsxs)(c.iA.BodyRow,{children:[(0,s.jsx)(c.iA.BodyCell,{children:(0,s.jsx)("p",{children:e.email})}),(0,s.jsx)(c.iA.BodyCell,{children:(0,s.jsx)("p",{children:(0,b.p)(e.created_at,"MM/dd/yyyy")})}),(0,s.jsx)(c.iA.BodyCell,{children:(0,s.jsx)("p",{children:e.views})})]},r)}))})]}))})},k=n(97705),O=(0,a.a)((function(){var e=(0,i.useState)(),r=e[0],n=e[1],a=(0,i.useState)(),m=a[0],p=a[1],j=(0,i.useState)(),f=j[0],b=j[1],v=l.default.query.id,g=(0,t.I0)(),N=(0,i.useContext)(k.AppContext).setLoading,w=i.useCallback((function(e){n(e)}),[]),O=i.useCallback((function(e){p(e)}),[]);return(0,i.useEffect)((function(){N(!0),g((0,x.VO)({id:v},(function(e){N(!1),b(e)}),(function(){N(!1)})))}),[v]),(0,s.jsx)(d.Z,{children:(0,s.jsx)(c.Zb,{className:"h-full lg:pl-card lg:py-5 lg:shadow-2xl",noShadow:!0,children:(0,s.jsxs)("div",{className:"flex flex-col w-full h-full",children:[(0,s.jsx)("div",{className:"card-header lg:mr-card border-primary border-b-2",children:(0,s.jsxs)("div",{className:"h-11 mb-3",children:[(0,s.jsx)(c.xE,{href:"/admin/perks",text:"Cancel",force:!0}),(0,s.jsx)("h3",{className:"text-dark2 text-xl font-medium",children:m?"Editing Perk":"Edit Perk"})]})}),(0,s.jsx)("div",{className:"card-body pt-8 overflow-y-auto flex-1 min-h-0 -ml-5 pl-5",children:(0,s.jsxs)("div",{className:"lg:pr-card",children:[(0,s.jsx)(u.U,{onChange:w,value:f,editMode:!0,onEditing:O}),(0,s.jsxs)("div",{className:"pt-10",children:[(0,s.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Card Preview"}),(0,s.jsx)("div",{className:"border-primary border-b-2"}),(0,s.jsx)("div",{className:"mt-4 w-120 max-w-full",children:(0,s.jsx)(o.T,{perk:r})})]}),(0,s.jsxs)("div",{className:"pt-10",children:[(0,s.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Page Preview"}),(0,s.jsx)("div",{className:"border-primary border-b-2"}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h.o,{perk:r})})]}),(0,s.jsxs)("div",{className:"pt-10",children:[(0,s.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Engagement"}),(0,s.jsx)("div",{className:"border-primary border-b-2"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("p",{children:["Views: ",(0,s.jsx)("b",{children:null===f||void 0===f?void 0:f.total_views})]}),(0,s.jsxs)("p",{children:["Clicks: ",(0,s.jsx)("b",{children:null===f||void 0===f?void 0:f.total_clicks})]})]}),(0,s.jsx)("div",{className:"mt-4 h-72",children:(0,s.jsx)(y,{id:v})})]})]})})]})})})}),"final-all")},75515:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/perks/detail/[id]",function(){return n(19096)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,2283,4733,3752,1045,804,8216,6187],(function(){return r=75515,e(e.s=r);var r}));var r=e.O();_N_E=r}]);