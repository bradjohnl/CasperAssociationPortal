(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2519],{19096:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var i=n(85893),s=n(67294),t=n(11163),l=n(49226),a=n(24015),d=n(25955),c=n(28569),o=n(17202),h=n(22163),u=n(51040),x=n(87028),p=n(96156),j=n(32465),m=n(29163),f=n(64605),b=n(29586);function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,i)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){(0,p.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function y(){var e=(0,j.Z)(["\n  .intake-table {\n    .col-1 {\n      width: 34%;\n    }\n    .col-2 {\n      width: 33%;\n    }\n    .col-3 {\n      width: 33%;\n    }\n  }\n"]);return y=function(){return e},e}var N=m.ZP.div(y()),w=function(e){var r=e.id,n=(0,l.I0)(),t=(0,f.x)(),a=t.data,d=t.params,o=t.register,h=t.hasMore,u=t.appendData,p=t.setHasMore,j=t.page,m=t.setPage,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;n((0,x.lN)(g({id:r,page:e},i),(function(e,r){p(r),u(e),m((function(e){return e+1}))})))};return(0,s.useEffect)((function(){v()}),[]),(0,i.jsx)(N,{className:"h-full",children:(0,i.jsxs)(c.iA,g(g({},o),{},{className:"intake-table pt-5 h-full",onLoadMore:v,hasMore:h,dataLength:a.length,children:[(0,i.jsxs)(c.iA.Header,{children:[(0,i.jsx)(c.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"User Email"})}),(0,i.jsx)(c.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Date First Clicked"})}),(0,i.jsx)(c.iA.HeaderCell,{children:(0,i.jsx)("p",{children:"Times Followed"})})]}),(0,i.jsx)(c.iA.Body,{className:"lg:-mr-24 lg:pr-24",children:a.map((function(e,r){return(0,i.jsxs)(c.iA.BodyRow,{children:[(0,i.jsx)(c.iA.BodyCell,{children:(0,i.jsx)("p",{children:e.email})}),(0,i.jsx)(c.iA.BodyCell,{children:(0,i.jsx)("p",{children:(0,b.p)(e.created_at,"MM/dd/yyyy")})}),(0,i.jsx)(c.iA.BodyCell,{children:(0,i.jsx)("p",{children:e.views})})]},r)}))})]}))})},k=n(56073),O=(0,a.a)((function(){var e=(0,s.useState)(),r=e[0],n=e[1],a=(0,s.useState)(),p=a[0],j=a[1],m=(0,s.useState)(),f=m[0],b=m[1],v=t.default.query.id,g=(0,l.I0)(),y=(0,s.useContext)(k.AppContext).setLoading,N=s.useCallback((function(e){n(e)}),[]),O=s.useCallback((function(e){j(e)}),[]);return(0,s.useEffect)((function(){y(!0),g((0,x.VO)({id:v},(function(e){y(!1),b(e)}),(function(){y(!1)})))}),[v]),(0,i.jsx)(d.Z,{children:(0,i.jsx)(c.Zb,{className:"h-full lg:pl-24 lg:py-11 lg:shadow-2xl",noShadow:!0,children:(0,i.jsxs)("div",{className:"w-full h-full",children:[(0,i.jsxs)("div",{className:"card-header lg:mr-24 lg:h-70px",children:[(0,i.jsx)(c.xE,{href:"/admin/perks",text:"Cancel",force:!0}),(0,i.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:p?"Editing Perk":"Edit Perk"}),(0,i.jsx)("div",{className:"border-primary border-b-2"})]}),(0,i.jsx)("div",{className:"card-body pt-5 pb-28 overflow-y-auto lg:h-100%-70px -ml-5 pl-5",children:(0,i.jsxs)("div",{className:"lg:pr-24",children:[(0,i.jsx)(u.U,{onChange:N,value:f,editMode:!0,onEditing:O}),(0,i.jsxs)("div",{className:"pt-10",children:[(0,i.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Card Preview"}),(0,i.jsx)("div",{className:"border-primary border-b-2"}),(0,i.jsx)("div",{className:"mt-4",style:{width:"400px",maxWidth:"100%"},children:(0,i.jsx)(o.T,{perk:r})})]}),(0,i.jsxs)("div",{className:"pt-10",children:[(0,i.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Page Preview"}),(0,i.jsx)("div",{className:"border-primary border-b-2"}),(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(h.o,{perk:r})})]}),(0,i.jsxs)("div",{className:"pt-10",children:[(0,i.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Engagement"}),(0,i.jsx)("div",{className:"border-primary border-b-2"}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsxs)("p",{children:["Views: ",(0,i.jsx)("b",{children:null===f||void 0===f?void 0:f.total_views})]}),(0,i.jsxs)("p",{children:["Clicks: ",(0,i.jsx)("b",{children:null===f||void 0===f?void 0:f.total_clicks})]})]}),(0,i.jsx)("div",{className:"mt-4 h-72",children:(0,i.jsx)(w,{id:v})})]})]})})]})})})}),"final-all")},75515:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/perks/detail/[id]",function(){return n(19096)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,2283,4733,3752,1878,5955,5774,6187],(function(){return r=75515,e(e.s=r);var r}));var r=e.O();_N_E=r}]);