(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2519],{19096:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return O}});var l=n(85893),i=n(67294),s=n(11163),t=n(49226),a=n(24015),d=n(71457),c=n(12245),o=n(17202),h=n(22163),u=n(51040),x=n(87028),p=n(96156),j=n(32465),m=n(29163),f=n(64605),b=n(29586);function v(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,l)}return n}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){(0,p.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function N(){var e=(0,j.Z)(["\n  .intake-table {\n    .col-1 {\n      width: 34%;\n    }\n    .col-2 {\n      width: 33%;\n    }\n    .col-3 {\n      width: 33%;\n    }\n  }\n"]);return N=function(){return e},e}var w=m.ZP.div(N()),y=function(e){var r=e.id,n=(0,t.I0)(),s=(0,f.x)(),a=s.data,d=s.params,o=s.register,h=s.hasMore,u=s.appendData,p=s.setHasMore,j=s.page,m=s.setPage,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;n((0,x.lN)(g({id:r,page:e},l),(function(e,r){p(r),u(e),m((function(e){return e+1}))})))};return(0,i.useEffect)((function(){v()}),[]),(0,l.jsx)(w,{className:"h-full",children:(0,l.jsxs)(c.iA,g(g({},o),{},{className:"intake-table pt-5 h-full",onLoadMore:v,hasMore:h,dataLength:a.length,children:[(0,l.jsxs)(c.iA.Header,{children:[(0,l.jsx)(c.iA.HeaderCell,{children:(0,l.jsx)("p",{children:"User Email"})}),(0,l.jsx)(c.iA.HeaderCell,{children:(0,l.jsx)("p",{children:"Date First Clicked"})}),(0,l.jsx)(c.iA.HeaderCell,{children:(0,l.jsx)("p",{children:"Times Followed"})})]}),(0,l.jsx)(c.iA.Body,{className:"lg:-mr-24 lg:pr-24",children:a.map((function(e,r){return(0,l.jsxs)(c.iA.BodyRow,{children:[(0,l.jsx)(c.iA.BodyCell,{children:(0,l.jsx)("p",{children:e.email})}),(0,l.jsx)(c.iA.BodyCell,{children:(0,l.jsx)("p",{children:(0,b.p)(e.created_at,"MM/dd/yyyy")})}),(0,l.jsx)(c.iA.BodyCell,{children:(0,l.jsx)("p",{children:e.views})})]},r)}))})]}))})},k=n(97705),O=(0,a.a)((function(){var e=(0,i.useState)(),r=e[0],n=e[1],a=(0,i.useState)(),p=a[0],j=a[1],m=(0,i.useState)(),f=m[0],b=m[1],v=s.default.query.id,g=(0,t.I0)(),N=(0,i.useContext)(k.AppContext).setLoading,w=i.useCallback((function(e){n(e)}),[]),O=i.useCallback((function(e){j(e)}),[]);return(0,i.useEffect)((function(){N(!0),g((0,x.VO)({id:v},(function(e){N(!1),b(e)}),(function(){N(!1)})))}),[v]),(0,l.jsx)(d.Z,{children:(0,l.jsx)(c.Zb,{className:"h-full lg:pl-24 lg:py-11 lg:shadow-2xl",noShadow:!0,children:(0,l.jsxs)("div",{className:"w-full h-full",children:[(0,l.jsxs)("div",{className:"card-header lg:mr-24 lg:h-70px",children:[(0,l.jsx)(c.xE,{href:"/admin/perks",text:"Cancel",force:!0}),(0,l.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:p?"Editing Perk":"Edit Perk"}),(0,l.jsx)("div",{className:"border-primary border-b-2"})]}),(0,l.jsx)("div",{className:"card-body pt-5 pb-28 overflow-y-auto lg:h-100%-70px -ml-5 pl-5",children:(0,l.jsxs)("div",{className:"lg:pr-24",children:[(0,l.jsx)(u.U,{onChange:w,value:f,editMode:!0,onEditing:O}),(0,l.jsxs)("div",{className:"pt-10",children:[(0,l.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Card Preview"}),(0,l.jsx)("div",{className:"border-primary border-b-2"}),(0,l.jsx)("div",{className:"mt-4 w-120 max-w-full",children:(0,l.jsx)(o.T,{perk:r})})]}),(0,l.jsxs)("div",{className:"pt-10",children:[(0,l.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Page Preview"}),(0,l.jsx)("div",{className:"border-primary border-b-2"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(h.o,{perk:r})})]}),(0,l.jsxs)("div",{className:"pt-10",children:[(0,l.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-3.5",children:"Engagement"}),(0,l.jsx)("div",{className:"border-primary border-b-2"}),(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("p",{children:["Views: ",(0,l.jsx)("b",{children:null===f||void 0===f?void 0:f.total_views})]}),(0,l.jsxs)("p",{children:["Clicks: ",(0,l.jsx)("b",{children:null===f||void 0===f?void 0:f.total_clicks})]})]}),(0,l.jsx)("div",{className:"mt-4 h-72",children:(0,l.jsx)(y,{id:v})})]})]})})]})})})}),"final-all")},75515:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/perks/detail/[id]",function(){return n(19096)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,2283,4733,3752,1045,1457,8216,6187],(function(){return r=75515,e(e.s=r);var r}));var r=e.O();_N_E=r}]);