(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{24015:function(e,l,n){"use strict";n.d(l,{a:function(){return c}});var r=n(96156),t=n(85893),i=n(67294),a=n(11163),o=n(49226);var s=n(44791);function u(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);l&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),n.push.apply(n,r)}return n}var c=function(e,l){return function(n){var c=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,l=void 0===e?"public":e,n=(0,o.v9)((function(e){return e.authReducer.userInfo}));return(0,i.useEffect)((function(){if("public"!==l&&l&&n)if(n&&null!==n&&void 0!==n&&n.isLoggedIn)if("member"===n.role){if("auth"===l)return"verifying"===n.period&&a.default.push("/verify-email"),"onboarding"===n.period&&a.default.push("/onboard"),void("final"===n.period&&a.default.push("/dashboard"));if("verifying"===l)return"onboarding"===n.period&&a.default.push("/onboard"),void("final"===n.period&&a.default.push("/dashboard"));if("onboarding"===l)return"verifying"===n.period&&a.default.push("/verify-email"),void("final"===n.period&&a.default.push("/dashboard"));if("final-member"===l||"final-all"===l)return"verifying"===n.period&&a.default.push("/verify-email"),void("onboarding"===n.period&&a.default.push("/onboard"));"final-admin"===l&&("verifying"===n.period&&a.default.push("/verify-email"),"onboarding"===n.period&&a.default.push("/onboard"),"final"===n.period&&a.default.push("/dashboard"))}else"admin"===n.role&&"final-all"!==l&&"final-admin"!==l&&a.default.push("/admin/dashboard");else"auth"!==l&&a.default.push("/login")}),[n,l]),{user:n}}({urlType:l}).user;if(l&&"public"!==l){if(!c)return(0,t.jsx)(s.Z,{});if("auth"===l&&c.isLoggedIn)return(0,t.jsx)(s.Z,{});if("auth"!==l&&!c.isLoggedIn)return(0,t.jsx)(s.Z,{});if("member"===c.role){if(["final-all","final-member"].includes(l)&&"final"!==c.period)return(0,t.jsx)(s.Z,{});if(["verifying"].includes(l)&&"verifying"!==c.period)return(0,t.jsx)(s.Z,{});if(["onboarding"].includes(l)&&"onboarding"!==c.period)return(0,t.jsx)(s.Z,{})}if("admin"===c.role&&["verifying","onboarding","final-member"].includes(l))return(0,t.jsx)(s.Z,{})}return(0,t.jsx)(e,function(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?u(Object(n),!0).forEach((function(l){(0,r.Z)(e,l,n[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))}))}return e}({},n))}}},24205:function(e,l,n){"use strict";n.d(l,{Ge:function(){return r},QI:function(){return t},zC:function(){return i},qn:function(){return a},tH:function(){return o},VX:function(){return s},FZ:function(){return u},ec:function(){return c},mS:function(){return d}});var r=/^[\.a-zA-Z\s ]*$/,t=/^[_A-Za-z0-9-+]+(\.[_A-Za-z0-9-+]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z\u200c\u200b]{2,})$/,i=/(^[0-9])/,a=/^-?[1-9]/,o=/^[A-Za-z0-9-]*$/,s=/^[A-Za-z0-9-]*$/,u=/(^)@[A-Za-z0-9-\_]*$/,c=/^[A-Za-z0-9-\s\.\_ ]*$/,d=new RegExp("".concat(/(?=.*?[a-zA-Z])/.source).concat(/(?=.*?[0-9])/.source).concat(/(?=.*?[\!\"\-\@\#\$\%\&\*\(\)\'\^\`\.\,\/\:\;\_\+\=\<\>\?\{\}\[\\\]])/.source))},94519:function(e,l,n){"use strict";n.r(l);var r=n(85893),t=n(96156),i=n(41664),a=n(42283),o=n(67294),s=n(49226),u=n(24015),c=n(25955),d=n(28569),f=n(24205),v=n(87028),m=n(56073);function h(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);l&&(r=r.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?h(Object(n),!0).forEach((function(l){(0,t.Z)(e,l,n[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))}))}return e}var x=function(e){var l,n,t,i,u=e.metrics,c=e.title,m=e.type,h=e.doReloadData,x=(0,o.useState)(!1),g=x[0],b=x[1],_=(0,o.useState)(!1),j=_[0],w=_[1],y=(0,o.useState)(!1),N=y[0],k=y[1],O=(0,o.useState)(!1),S=O[0],A=O[1],Z=(0,o.useState)(null),D=Z[0],P=Z[1],C=(0,o.useState)(null),q=C[0],E=C[1],z=(0,o.useState)(null),W=z[0],H=z[1],L=(0,s.I0)(),V=(0,a.cI)({mode:"onChange"}),B=V.formState,I=V.register,Q=V.handleSubmit,R=V.setValue,$=V.control,F=V.setFocus;(0,o.useEffect)((function(){console.log("metrics",u),T(u)}),[u]),(0,o.useEffect)((function(){D&&null!==u&&void 0!==u&&u.updated_at&&R("frame_calculate_value",null===u||void 0===u?void 0:u.frame_calculate_value,{shouldValidate:!0})}),[D]),(0,o.useEffect)((function(){q&&null!==u&&void 0!==u&&u.updated_at&&R("given_to_correct_value",+(null===u||void 0===u?void 0:u.given_to_correct_value),{shouldValidate:!0})}),[q]),(0,o.useEffect)((function(){W&&null!==u&&void 0!==u&&u.updated_at&&R("system_check_value",+(null===u||void 0===u?void 0:u.given_to_correct_value),{shouldValidate:!0})}),[W]);var T=function(e){null!==e&&void 0!==e&&e.updated_at?(w(!1),k(!1),R("warning_level",+(null===e||void 0===e?void 0:e.warning_level),{shouldValidate:!0}),R("probation_start",+(null===e||void 0===e?void 0:e.probation_start),{shouldValidate:!0}),R("frame_calculate_unit",null===e||void 0===e?void 0:e.frame_calculate_unit,{shouldValidate:!0}),P(null===e||void 0===e?void 0:e.frame_calculate_unit),R("given_to_correct_unit",null===e||void 0===e?void 0:e.given_to_correct_unit,{shouldValidate:!0}),E(null===e||void 0===e?void 0:e.given_to_correct_unit),R("system_check_unit",null===e||void 0===e?void 0:e.system_check_unit,{shouldValidate:!0}),H(null===e||void 0===e?void 0:e.system_check_unit)):(R("warning_level",null),R("probation_start",null),R("frame_calculate_unit",null),R("given_to_correct_unit",null),R("system_check_unit",null),R("frame_calculate_value",null),R("given_to_correct_value",null),R("system_check_value",null),w(!0),k(!0))};return(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsxs)("div",{className:"flex mb-3",children:[(0,r.jsxs)("div",{className:"flex flex-row mr-2",children:[(0,r.jsx)("span",{children:c}),(0,r.jsx)("img",{className:"pl-3",src:"/images/ic_feather_info.svg",alt:"Info"})]}),(0,r.jsx)("p",{className:"text-primary underline cursor-pointer",onClick:function(){A((function(e){return e&&T(u),!e}))},children:S?"Cancel":"Edit"})]}),(0,r.jsxs)("form",{className:"w-full ".concat(S?"opacity-100":"opacity-50 pointer-events-none"),onSubmit:Q((function(e){b(!0),L((0,v.Li)({type:m,data:e},(function(){h(),A(!1),b(!1)}),(function(){b(!1)})))})),children:[(0,r.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex flex-row justify-between",children:[(0,r.jsxs)("div",{className:"w-full lg:w-6/12",children:[(0,r.jsx)("label",{className:"text-gray font-thin mb-2",children:"Set Warning Level"}),(0,r.jsx)("div",{className:"flex-1 flex-col",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",p({type:"text",className:"w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",name:"warning_level"},I("warning_level",{required:"Warning Level is required",pattern:{message:"Warning Level is invalid",value:"block-height"===m?f.qn:f.zC},validate:function(e){return"uptime"===m&&(e<0||e>100)?"Warning Level is invalid":null}}))),(null===(l=B.errors)||void 0===l?void 0:l.warning_level)&&(0,r.jsx)("p",{className:"pl-7 mt-2 text-primary",children:null===(n=B.errors.warning_level)||void 0===n?void 0:n.message})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",onClick:function(){w(!0),setTimeout((function(){F("warning_level")}))},children:["uptime"===m&&"".concat(null===u||void 0===u?void 0:u.warning_level," %"),"block-height"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.warning_level))?"".concat(null===u||void 0===u?void 0:u.warning_level," Block"):"".concat(null===u||void 0===u?void 0:u.warning_level," Blocks")),"update-responsiveness"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.warning_level))?"Behind ".concat(null===u||void 0===u?void 0:u.warning_level," Updates"):"Behind ".concat(null===u||void 0===u?void 0:u.warning_level," Update"))]}),(0,r.jsx)("input",{name:"warning_level",value:+(null===u||void 0===u?void 0:u.warning_level),hidden:!0})]})})]}),(0,r.jsxs)("div",{className:"w-full lg:w-6/12 ml-10",children:[(0,r.jsx)("label",{className:"text-gray font-thin mb-2",children:"Set Probation Start"}),(0,r.jsx)("div",{className:"flex-1 flex-col",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",p({type:"text",className:"w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",name:"probation_start"},I("probation_start",{required:"Probation start is required",pattern:{message:"Probation start is invalid",value:"block-height"===m?f.qn:f.zC},validate:function(e){return"uptime"===m&&(e<0||e>100)?"Probation start is invalid":null}}))),(null===(t=B.errors)||void 0===t?void 0:t.probation_start)&&(0,r.jsx)("p",{className:"pl-7 mt-2 text-primary",children:null===(i=B.errors.probation_start)||void 0===i?void 0:i.message})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",onClick:function(){k(!0),setTimeout((function(){F("probation_start")}))},children:["uptime"===m&&"".concat(null===u||void 0===u?void 0:u.probation_start," %"),"block-height"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.probation_start))?"".concat(null===u||void 0===u?void 0:u.probation_start," Block"):"".concat(null===u||void 0===u?void 0:u.probation_start," Blocks")),"update-responsiveness"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.probation_start))?"Behind ".concat(null===u||void 0===u?void 0:u.probation_start," Updates"):"Behind ".concat(null===u||void 0===u?void 0:u.probation_start," Update"))]}),(0,r.jsx)("input",{name:"probation_start",value:+(null===u||void 0===u?void 0:u.probation_start),hidden:!0})]})})]})]}),(0,r.jsx)("p",{className:"mb-3",children:"What time window should the system use to calculate the average?"}),(0,r.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,r.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"frame_calculate_unit",rules:{required:!0},control:$,render:function(e){var l=e.field,n=(l.value,l.onChange);return(0,r.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("frame_calculate_unit")),{},{onChange:function(e){P(e.target.value),n(e)},children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,r.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,r.jsx)("option",{value:"Days",children:"Days"}),(0,r.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"frame_calculate_value",rules:{required:!0},control:$,render:function(){return(0,r.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("frame_calculate_value")),{},{children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===D&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Hours"===D&&new Array(24).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Weeks"===D&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)}))]}))}})})]}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,r.jsx)("p",{className:"mb-3",children:"How much time should the user be given to correct this?"}),(0,r.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,r.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"given_to_correct_unit",rules:{required:!0},control:$,render:function(e){var l=e.field,n=(l.value,l.onChange);return(0,r.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("given_to_correct_unit")),{},{onChange:function(e){E(e.target.value),n(e)},children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,r.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,r.jsx)("option",{value:"Days",children:"Days"}),(0,r.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"given_to_correct_value",rules:{required:!0},control:$,render:function(){return(0,r.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("given_to_correct_value")),{},{children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===q&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Hours"===q&&new Array(24).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Weeks"===q&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)}))]}))}})})]}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,r.jsx)("p",{className:"mb-3",children:"How often should the system check that the above criteria has been met?"}),(0,r.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,r.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"system_check_unit",rules:{required:!0},control:$,render:function(e){var l=e.field,n=(l.value,l.onChange);return(0,r.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("system_check_unit")),{},{onChange:function(e){H(e.target.value),n(e)},children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,r.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,r.jsx)("option",{value:"Days",children:"Days"}),(0,r.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,r.jsx)(a.Qr,{name:"system_check_value",rules:{required:!0},control:$,render:function(){return(0,r.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("system_check_value")),{},{children:[(0,r.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===W&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Hours"===W&&new Array(24).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)})),"Weeks"===W&&new Array(30).fill(1).map((function(e,l){return(0,r.jsx)("option",{value:l+1,children:l+1},l)}))]}))}})})]}),(0,r.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,r.jsx)(d.fl,{type:"submit",isDisabled:g,isLoading:g,title:"Save Changes",className:"text-lg text-white w-full mt-10 lg:w-auto px-7 h-12 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md"})]})]})};l.default=(0,u.a)((function(){var e=(0,o.useState)(null),l=e[0],n=e[1],t=(0,s.I0)(),a=(0,o.useContext)(m.AppContext).setLoading;(0,o.useEffect)((function(){a(!0),u()}),[]);var u=function(){t((0,v._w)((function(e){var l=null===e||void 0===e?void 0:e.reduce((function(e,l){return e[l.type]=l,e}),{});a(!1),n(l)}),(function(){a(!1)})))};return(0,r.jsx)(c.Z,{children:(0,r.jsx)(d.Zb,{className:"h-full pl-24 py-7",children:(0,r.jsxs)("div",{className:"bg-transparent h-full",children:[(0,r.jsx)("div",{className:"w-full h-70px pr-24",children:(0,r.jsxs)("div",{className:"lg:h-70px flex flex-col justify-center",children:[(0,r.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-6",children:"Admin settings"}),(0,r.jsx)("div",{className:"border-primary border-b-2"})]})}),(0,r.jsxs)("div",{className:"flex flex-col h-100%-70px overflow-y-auto",children:[(0,r.jsxs)("section",{className:"mt-5 mb-20",children:[(0,r.jsx)("h4",{className:"mb-7 text-lg font-medium",children:"Mailer Settings"}),(0,r.jsx)(i.default,{href:"/admin/settings/emailer",children:(0,r.jsx)("button",{type:"button",className:"transition text-lg text-white w-36 lg:w-48 h-9 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md",children:"Access Mailer"})})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{className:"mb-7 text-lg font-medium",children:"Monitoring Criteria"}),(0,r.jsx)(x,{metrics:null===l||void 0===l?void 0:l.uptime,title:"Uptime",type:"uptime",doReloadData:u}),(0,r.jsx)(x,{metrics:null===l||void 0===l?void 0:l["block-height"],title:"Block Height",type:"block-height",doReloadData:u}),(0,r.jsx)(x,{metrics:null===l||void 0===l?void 0:l["update-responsiveness"],title:"Update Responsiveness",type:"update-responsiveness",doReloadData:u})]})]})]})})})}),"final-admin")},2666:function(e,l,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return n(94519)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,9669,3913,2283,1878,5955,2321],(function(){return l=2666,e(e.s=l);var l}));var l=e.O();_N_E=l}]);