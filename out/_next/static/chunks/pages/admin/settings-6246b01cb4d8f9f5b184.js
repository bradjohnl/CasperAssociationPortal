(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{24015:function(e,n,l){"use strict";l.d(n,{a:function(){return c}});var t=l(96156),r=l(85893),i=l(67294),a=l(11163),o=l(49226);var s=l(44791);function u(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}var c=function(e,n){return function(l){var c=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,n=void 0===e?"public":e,l=(0,o.v9)((function(e){return e.authReducer.userInfo}));return(0,i.useEffect)((function(){if("public"!==n&&n&&l)if(l&&null!==l&&void 0!==l&&l.isLoggedIn)if("member"===l.role){if("auth"===n)return"verifying"===l.period&&a.default.push("/verify-email"),"onboarding"===l.period&&a.default.push("/onboard"),void("final"===l.period&&a.default.push("/dashboard"));if("verifying"===n)return"onboarding"===l.period&&a.default.push("/onboard"),void("final"===l.period&&a.default.push("/dashboard"));if("onboarding"===n)return"verifying"===l.period&&a.default.push("/verify-email"),void("final"===l.period&&a.default.push("/dashboard"));if("final-member"===n||"final-all"===n)return"verifying"===l.period&&a.default.push("/verify-email"),void("onboarding"===l.period&&a.default.push("/onboard"));"final-admin"===n&&("verifying"===l.period&&a.default.push("/verify-email"),"onboarding"===l.period&&a.default.push("/onboard"),"final"===l.period&&a.default.push("/dashboard"))}else["admin","sub-admin"].includes(l.role)&&"final-all"!==n&&"final-admin"!==n&&a.default.push("/admin/dashboard");else"auth"!==n&&a.default.push("/login")}),[l,n]),{user:l}}({urlType:n}).user;if(n&&"public"!==n){if(!c)return(0,r.jsx)(s.Z,{});if("auth"===n&&c.isLoggedIn)return(0,r.jsx)(s.Z,{});if("auth"!==n&&!c.isLoggedIn)return(0,r.jsx)(s.Z,{});if("member"===c.role){if(["final-all","final-member"].includes(n)&&"final"!==c.period)return(0,r.jsx)(s.Z,{});if(["verifying"].includes(n)&&"verifying"!==c.period)return(0,r.jsx)(s.Z,{});if(["onboarding"].includes(n)&&"onboarding"!==c.period)return(0,r.jsx)(s.Z,{})}if(["admin","sub-admin"].includes(c.role)&&["verifying","onboarding","final-member"].includes(n))return(0,r.jsx)(s.Z,{})}return(0,r.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?u(Object(l),!0).forEach((function(n){(0,t.Z)(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}({},l))}}},24205:function(e,n,l){"use strict";l.d(n,{Ge:function(){return t},QI:function(){return r},zC:function(){return i},qn:function(){return a},tH:function(){return o},VX:function(){return s},FZ:function(){return u},ec:function(){return c},mS:function(){return d}});var t=/^[\.a-zA-Z\s ]*$/,r=/^[_A-Za-z0-9-+]+(\.[_A-Za-z0-9-+]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9-]+)*(\.[A-Za-z\u200c\u200b]{2,})$/,i=/(^[0-9])/,a=/^-?[1-9]/,o=/^[A-Za-z0-9-]*$/,s=/^[A-Za-z0-9-]*$/,u=/(^)@[A-Za-z0-9-\_]*$/,c=/^[A-Za-z0-9-\s\.\_ ]*$/,d=new RegExp("".concat(/(?=.*?[a-zA-Z])/.source).concat(/(?=.*?[0-9])/.source).concat(/(?=.*?[\!\"\-\@\#\$\%\&\*\(\)\'\^\`\.\,\/\:\;\_\+\=\<\>\?\{\}\[\\\]])/.source))},94519:function(e,n,l){"use strict";l.r(n);var t=l(85893),r=l(96156),i=l(41664),a=l(42283),o=l(67294),s=l(49226),u=l(24015),c=l(25955),d=l(89),f=l(24205),v=l(87028),m=l(97705);function h(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}function p(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?h(Object(l),!0).forEach((function(n){(0,r.Z)(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):h(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}var x=function(e){var n,l,r,i,u=e.metrics,c=e.title,m=e.type,h=e.doReloadData,x=(0,o.useState)(!1),g=x[0],b=x[1],j=(0,o.useState)(!1),_=j[0],w=j[1],y=(0,o.useState)(!1),N=y[0],k=y[1],O=(0,o.useState)(!1),S=O[0],A=O[1],Z=(0,o.useState)(null),D=Z[0],P=Z[1],C=(0,o.useState)(null),q=C[0],E=C[1],z=(0,o.useState)(null),W=z[0],H=z[1],L=(0,s.I0)(),V=(0,a.cI)({mode:"onChange"}),B=V.formState,I=V.register,R=V.handleSubmit,$=V.setValue,Q=V.control,F=V.setFocus;(0,o.useEffect)((function(){T(u)}),[u]),(0,o.useEffect)((function(){D&&null!==u&&void 0!==u&&u.updated_at&&$("frame_calculate_value",null===u||void 0===u?void 0:u.frame_calculate_value,{shouldValidate:!0})}),[D]),(0,o.useEffect)((function(){q&&null!==u&&void 0!==u&&u.updated_at&&$("given_to_correct_value",+(null===u||void 0===u?void 0:u.given_to_correct_value),{shouldValidate:!0})}),[q]),(0,o.useEffect)((function(){W&&null!==u&&void 0!==u&&u.updated_at&&$("system_check_value",+(null===u||void 0===u?void 0:u.given_to_correct_value),{shouldValidate:!0})}),[W]);var T=function(e){null!==e&&void 0!==e&&e.updated_at?(w(!1),k(!1),$("warning_level",+(null===e||void 0===e?void 0:e.warning_level),{shouldValidate:!0}),$("probation_start",+(null===e||void 0===e?void 0:e.probation_start),{shouldValidate:!0}),$("frame_calculate_unit",null===e||void 0===e?void 0:e.frame_calculate_unit,{shouldValidate:!0}),P(null===e||void 0===e?void 0:e.frame_calculate_unit),$("given_to_correct_unit",null===e||void 0===e?void 0:e.given_to_correct_unit,{shouldValidate:!0}),E(null===e||void 0===e?void 0:e.given_to_correct_unit),$("system_check_unit",null===e||void 0===e?void 0:e.system_check_unit,{shouldValidate:!0}),H(null===e||void 0===e?void 0:e.system_check_unit)):($("warning_level",null),$("probation_start",null),$("frame_calculate_unit",null),$("given_to_correct_unit",null),$("system_check_unit",null),$("frame_calculate_value",null),$("given_to_correct_value",null),$("system_check_value",null),w(!0),k(!0))};return(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsxs)("div",{className:"flex mb-3",children:[(0,t.jsxs)("div",{className:"flex flex-row mr-2",children:[(0,t.jsx)("span",{children:c}),(0,t.jsx)("img",{className:"pl-3",src:"/images/ic_feather_info.svg",alt:"Info"})]}),(0,t.jsx)("p",{className:"text-primary underline cursor-pointer",onClick:function(){A((function(e){return e&&T(u),!e}))},children:S?"Cancel":"Edit"})]}),(0,t.jsxs)("form",{className:"w-full ".concat(S?"opacity-100":"opacity-50 pointer-events-none"),onSubmit:R((function(e){b(!0),L((0,v.Li)({type:m,data:e},(function(){h(),A(!1),b(!1)}),(function(){b(!1)})))})),children:[(0,t.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex flex-row justify-between",children:[(0,t.jsxs)("div",{className:"w-full lg:w-6/12",children:[(0,t.jsx)("label",{className:"text-gray font-thin mb-2",children:"Set Warning Level"}),(0,t.jsx)("div",{className:"flex-1 flex-col",children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",p({type:"text",className:"w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",name:"warning_level"},I("warning_level",{required:"Warning Level is required",pattern:{message:"Warning Level is invalid",value:"block-height"===m?f.qn:f.zC},validate:function(e){return"uptime"===m&&(e<0||e>100)?"Warning Level is invalid":null}}))),(null===(n=B.errors)||void 0===n?void 0:n.warning_level)&&(0,t.jsx)("p",{className:"pl-7 mt-2 text-primary",children:null===(l=B.errors.warning_level)||void 0===l?void 0:l.message})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",onClick:function(){w(!0),setTimeout((function(){F("warning_level")}))},children:["uptime"===m&&"".concat(null===u||void 0===u?void 0:u.warning_level," %"),"block-height"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.warning_level))?"".concat(null===u||void 0===u?void 0:u.warning_level," Block"):"".concat(null===u||void 0===u?void 0:u.warning_level," Blocks")),"update-responsiveness"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.warning_level))?"Behind ".concat(null===u||void 0===u?void 0:u.warning_level," Updates"):"Behind ".concat(null===u||void 0===u?void 0:u.warning_level," Update"))]}),(0,t.jsx)("input",{name:"warning_level",value:+(null===u||void 0===u?void 0:u.warning_level),hidden:!0})]})})]}),(0,t.jsxs)("div",{className:"w-full lg:w-6/12 ml-10",children:[(0,t.jsx)("label",{className:"text-gray font-thin mb-2",children:"Set Probation Start"}),(0,t.jsx)("div",{className:"flex-1 flex-col",children:N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",p({type:"text",className:"w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",name:"probation_start"},I("probation_start",{required:"Probation start is required",pattern:{message:"Probation start is invalid",value:"block-height"===m?f.qn:f.zC},validate:function(e){return"uptime"===m&&(e<0||e>100)?"Probation start is invalid":null}}))),(null===(r=B.errors)||void 0===r?void 0:r.probation_start)&&(0,t.jsx)("p",{className:"pl-7 mt-2 text-primary",children:null===(i=B.errors.probation_start)||void 0===i?void 0:i.message})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center w-full mt-2 lg:mt-0 h-14 px-7 shadow-md focus:outline-none border border-gray1",onClick:function(){k(!0),setTimeout((function(){F("probation_start")}))},children:["uptime"===m&&"".concat(null===u||void 0===u?void 0:u.probation_start," %"),"block-height"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.probation_start))?"".concat(null===u||void 0===u?void 0:u.probation_start," Block"):"".concat(null===u||void 0===u?void 0:u.probation_start," Blocks")),"update-responsiveness"===m&&([1,0,-1].includes(+(null===u||void 0===u?void 0:u.probation_start))?"Behind ".concat(null===u||void 0===u?void 0:u.probation_start," Updates"):"Behind ".concat(null===u||void 0===u?void 0:u.probation_start," Update"))]}),(0,t.jsx)("input",{name:"probation_start",value:+(null===u||void 0===u?void 0:u.probation_start),hidden:!0})]})})]})]}),(0,t.jsx)("p",{className:"mb-3",children:"What time window should the system use to calculate the average?"}),(0,t.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,t.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"frame_calculate_unit",rules:{required:!0},control:Q,render:function(e){var n=e.field,l=(n.value,n.onChange);return(0,t.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("frame_calculate_unit")),{},{onChange:function(e){P(e.target.value),l(e)},children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,t.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,t.jsx)("option",{value:"Days",children:"Days"}),(0,t.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"frame_calculate_value",rules:{required:!0},control:Q,render:function(){return(0,t.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("frame_calculate_value")),{},{children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===D&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Hours"===D&&new Array(24).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Weeks"===D&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)}))]}))}})})]}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,t.jsx)("p",{className:"mb-3",children:"How much time should the user be given to correct this?"}),(0,t.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,t.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"given_to_correct_unit",rules:{required:!0},control:Q,render:function(e){var n=e.field,l=(n.value,n.onChange);return(0,t.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("given_to_correct_unit")),{},{onChange:function(e){E(e.target.value),l(e)},children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,t.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,t.jsx)("option",{value:"Days",children:"Days"}),(0,t.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"given_to_correct_value",rules:{required:!0},control:Q,render:function(){return(0,t.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("given_to_correct_value")),{},{children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===q&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Hours"===q&&new Array(24).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Weeks"===q&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)}))]}))}})})]}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,t.jsx)("p",{className:"mb-3",children:"How often should the system check that the above criteria has been met?"}),(0,t.jsxs)("div",{className:"w-full lg:w-7/12 mb-10 flex",children:[(0,t.jsxs)("div",{className:"w-full lg:w-6/12 flex flex-row justify-between",children:[(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px mr-10 border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"system_check_unit",rules:{required:!0},control:Q,render:function(e){var n=e.field,l=(n.value,n.onChange);return(0,t.jsxs)("select",p(p({className:"px-5 w-full h-full cursor-pointer",required:!0},I("system_check_unit")),{},{onChange:function(e){H(e.target.value),l(e)},children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select Scale"}),(0,t.jsx)("option",{value:"Weeks",children:"Weeks"}),(0,t.jsx)("option",{value:"Days",children:"Days"}),(0,t.jsx)("option",{value:"Hours",children:"Hours"})]}))}})}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 h-40px border border-gray1 c-select flex items-center relative focus:outline-none shadow-md",children:(0,t.jsx)(a.Qr,{name:"system_check_value",rules:{required:!0},control:Q,render:function(){return(0,t.jsxs)("select",p(p({className:"w-full h-full px-5 cursor-pointer",required:!0},I("system_check_value")),{},{children:[(0,t.jsx)("option",{selected:!0,value:"",disabled:!0,children:"Select..."}),"Days"===W&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Hours"===W&&new Array(24).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)})),"Weeks"===W&&new Array(30).fill(1).map((function(e,n){return(0,t.jsx)("option",{value:n+1,children:n+1},n)}))]}))}})})]}),(0,t.jsx)("div",{className:"w-full lg:w-6/12 ml-10"})]}),(0,t.jsx)(d.fl,{type:"submit",isDisabled:g,isLoading:g,title:"Save Changes",className:"text-lg text-white w-full mt-10 lg:w-auto px-7 h-12 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md"})]})]})};n.default=(0,u.a)((function(){var e=(0,o.useState)(null),n=e[0],l=e[1],r=(0,s.I0)(),a=(0,o.useContext)(m.AppContext).setLoading;(0,o.useEffect)((function(){a(!0),u()}),[]);var u=function(){r((0,v.R$)((function(e){var n=null===e||void 0===e?void 0:e.reduce((function(e,n){return e[n.type]=n,e}),{});a(!1),l(n)}),(function(){a(!1)})))};return(0,t.jsx)(c.Z,{children:(0,t.jsx)(d.Zb,{className:"h-full pl-24 py-7",children:(0,t.jsxs)("div",{className:"bg-transparent h-full",children:[(0,t.jsx)("div",{className:"w-full h-70px pr-24",children:(0,t.jsxs)("div",{className:"lg:h-70px flex flex-col justify-center",children:[(0,t.jsx)("h3",{className:"text-dark2 text-xl lg:pr-32 font-medium mb-6",children:"Admin settings"}),(0,t.jsx)("div",{className:"border-primary border-b-2"})]})}),(0,t.jsxs)("div",{className:"flex flex-col h-100%-70px overflow-y-auto",children:[(0,t.jsxs)("section",{className:"mt-5",children:[(0,t.jsx)("h4",{className:"mb-7 text-lg font-medium",children:"Mailer Settings"}),(0,t.jsx)(i.default,{href:"/admin/settings/emailer",children:(0,t.jsx)("button",{type:"button",className:"mr-5 transition text-lg text-white w-36 lg:w-48 h-9 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md",children:"Access Mailer"})})]}),(0,t.jsxs)("section",{className:"mt-20",children:[(0,t.jsx)("h4",{className:"mb-7 text-lg font-medium",children:"Notification Settings"}),(0,t.jsx)(i.default,{href:"settings/notifications",children:(0,t.jsx)("button",{type:"button",className:"transition text-lg text-white w-36 lg:w-48 h-9 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md",children:"Access Notifications"})})]}),(0,t.jsxs)("section",{className:"mt-20",children:[(0,t.jsx)("h4",{className:"mb-7 text-lg font-medium",children:"Monitoring Criteria"}),(0,t.jsx)(x,{metrics:null===n||void 0===n?void 0:n.uptime,title:"Uptime",type:"uptime",doReloadData:u}),(0,t.jsx)(x,{metrics:null===n||void 0===n?void 0:n["block-height"],title:"Block Height",type:"block-height",doReloadData:u}),(0,t.jsx)(x,{metrics:null===n||void 0===n?void 0:n["update-responsiveness"],title:"Update Responsiveness",type:"update-responsiveness",doReloadData:u})]})]})]})})})}),"final-admin")},2666:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return l(94519)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,2283,7010,5955,8216],(function(){return n=2666,e(e.s=n);var n}));var n=e.O();_N_E=n}]);