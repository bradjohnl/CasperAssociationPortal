(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3574],{4677:function(e,n,r){"use strict";var t,i,s=r(7294);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}n.Z=function(e){return s.createElement("svg",a({"data-name":"Icon ionic-md-thumbs-up",xmlns:"http://www.w3.org/2000/svg",width:16.486,height:15.222},e),t||(t=s.createElement("path",{"data-name":"Path 11186",fill:"currentColor",className:"ic_like_svg__cls-1",d:"M5.946 15.222h6.818a1.454 1.454 0 001.356-.928l2.263-5.367a1.517 1.517 0 00.1-.555v-1.53a1.748 1.748 0 00-1.5-1.768h-4.72l.714-3.231.024-.238a1.149 1.149 0 00-.329-.8l-.8-.8-4.996 5.041A1.526 1.526 0 004.44 6.12v7.611a1.5 1.5 0 001.506 1.491z"})),i||(i=s.createElement("path",{"data-name":"Path 11187",fill:"currentColor",className:"ic_like_svg__cls-1",d:"M0 6.342h2.537v8.879H0z"})))}},4015:function(e,n,r){"use strict";r.d(n,{a:function(){return d}});var t=r(6156),i=r(5893),s=r(7294),a=r(1163),l=r(9226);var c=r(4791);function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}var d=function(e,n){return function(r){var d=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,n=void 0===e?"public":e,r=(0,l.v9)((function(e){return e.authReducer.userInfo}));return(0,s.useEffect)((function(){if("public"!==n&&n&&r)if(r&&null!==r&&void 0!==r&&r.isLoggedIn)if("member"===r.role){if("auth"===n)return"verifying"===r.period&&a.default.push("/verify-email"),"onboarding"===r.period&&a.default.push("/onboard"),void("final"===r.period&&a.default.push("/dashboard"));if("verifying"===n)return"onboarding"===r.period&&a.default.push("/onboard"),void("final"===r.period&&a.default.push("/dashboard"));if("onboarding"===n)return"verifying"===r.period&&a.default.push("/verify-email"),void("final"===r.period&&a.default.push("/dashboard"));if("final-member"===n||"final-all"===n)return"verifying"===r.period&&a.default.push("/verify-email"),void("onboarding"===r.period&&a.default.push("/onboard"));"final-admin"===n&&("verifying"===r.period&&a.default.push("/verify-email"),"onboarding"===r.period&&a.default.push("/onboard"),"final"===r.period&&a.default.push("/dashboard"))}else"admin"===r.role&&"final-all"!==n&&"final-admin"!==n&&a.default.push("/admin/dashboard");else"auth"!==n&&a.default.push("/login")}),[r,n]),{user:r}}({urlType:n}).user;if(n&&"public"!==n){if(!d)return(0,i.jsx)(c.Z,{});if("auth"===n&&d.isLoggedIn)return(0,i.jsx)(c.Z,{});if("auth"!==n&&!d.isLoggedIn)return(0,i.jsx)(c.Z,{});if("member"===d.role){if(["final-all","final-member"].includes(n)&&"final"!==d.period)return(0,i.jsx)(c.Z,{});if(["verifying"].includes(n)&&"verifying"!==d.period)return(0,i.jsx)(c.Z,{});if(["onboarding"].includes(n)&&"onboarding"!==d.period)return(0,i.jsx)(c.Z,{})}if("admin"===d.role&&["verifying","onboarding","final-member"].includes(n))return(0,i.jsx)(c.Z,{})}return(0,i.jsx)(e,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({},r))}}},4791:function(e,n,r){"use strict";var t=r(5893),i=r(733),s=r.n(i);n.Z=function(){return(0,t.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-40",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-white opacity-40"}),(0,t.jsx)(s(),{className:"z-50",type:"spinningBubbles",color:"#FF473E",width:100,height:100})]})}},4590:function(e,n,r){"use strict";r.d(n,{Z:function(){return o}});var t=r(5893),i=r(4504),s=r(9226),a=r(5587),l=r(6570),c=function(){var e=(0,s.v9)((function(e){return e.authReducer.userInfo.fullInfo}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.Zb,{className:"flex-col w-24 px-5 hidden lg:flex h-full overflow-y-scroll",children:[(0,t.jsx)("img",{className:"py-6 border-b-2 border-primary align-center",src:"/images/ic_logo_home.svg",alt:"Casper"}),(0,t.jsxs)("ul",{className:"mb-4 flex flex-col items-center border-b-2 border-primary",children:[(0,t.jsx)("li",{className:"pb-4 pt-14",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard",children:(0,t.jsx)("a",{className:"rounded-lg inline-block",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_home.svg",alt:"Home"})})})}),(0,t.jsx)("li",{className:"py-2",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/nodes",children:(0,t.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_infor.svg",alt:"Validator Info"})})})}),(0,t.jsx)("li",{className:"py-2",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/discussion",children:(0,t.jsx)("a",{className:"rounded-lg inline-block",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_material_chat.svg",alt:"Material Chat"})})})}),(0,t.jsx)("li",{className:"py-2",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/votes",children:(0,t.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_awesome_vote.svg",alt:"Vote"})})})}),(0,t.jsx)("li",{className:"py-2",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/member-perks",children:(0,t.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_feather_user_plus.svg",alt:"User Add"})})})}),(0,t.jsx)("li",{className:"pt-2",children:(0,t.jsx)(a.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/settings",children:(0,t.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,t.jsx)("img",{className:"p-3",src:"/images/ic_feather_settings.svg",alt:"Setting"})})})})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,t.jsxs)("ul",{className:"flex flex-col pb-4",children:[(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/dashboard",children:(0,t.jsx)("p",{children:"Admin"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/intake",children:(0,t.jsx)("p",{children:"Intake"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/users",children:(0,t.jsx)("p",{children:"Users"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/ballots",children:(0,t.jsx)("p",{children:"Ballots"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/perks",children:(0,t.jsx)("p",{children:"Perks"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/teams",children:(0,t.jsx)("p",{children:"Teams"})})}),(0,t.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,t.jsx)(a.O$,{activeClassName:"text-primary",href:"/admin/settings",children:(0,t.jsx)("p",{children:"Settings"})})})]})]}),(0,t.jsx)(l.Z,{className:"py-4 lg:hidden",theme:"dark"})]})};function o(e){var n=e.children;return(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"dashboard-layout",children:(0,t.jsxs)("div",{className:"relative h-screen h-px mx-auto 2xl:min-h-105 max-w-404 px-4 lg:py-4 xl:py-16 2xl:py-24 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex h-full flex-col lg:flex-row",children:[(0,t.jsx)("div",{className:"flex-none",children:(0,t.jsx)(c,{})}),(0,t.jsx)("div",{className:"pt-12 lg:pt-0 lg:pl-6 dashboard-content flex-grow h-full",children:n})]}),(0,t.jsx)("div",{className:"absolute py-8 left-0 bottom-0 right-0",children:(0,t.jsx)(i.Z,{theme:"dark"})})]})})})}},9442:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return D}});var t,i=r(7329),s=r(6156),a=r(2465),l=r(5893),c=r(7294),o=r(1664),d=r(9226),u=r(9163),f=r(4590),h=r(5587),m=r(4605);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var x,j=function(e){return c.createElement("svg",p({"data-name":"Icon material-remove-red-eye",xmlns:"http://www.w3.org/2000/svg",width:20.699,height:14.113},e),t||(t=c.createElement("path",{"data-name":"Icon material-remove-red-eye",fill:"currentColor",d:"M10.349 0A11.127 11.127 0 000 7.056a11.118 11.118 0 0020.7 0A11.127 11.127 0 0010.349 0zm0 11.761a4.7 4.7 0 114.7-4.7 4.706 4.706 0 01-4.7 4.7zm0-7.527a2.823 2.823 0 102.823 2.823 2.819 2.819 0 00-2.823-2.823z"})))};function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var y=function(e){return c.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:14,height:14},e),x||(x=c.createElement("path",{"data-name":"Icon material-mode-comment",d:"M13.993 1.4A1.4 1.4 0 0012.6 0H1.4A1.4 1.4 0 000 1.4v8.4a1.4 1.4 0 001.4 1.4h9.8L14 14z"})))},g=r(4677),b=r(4015),N=r(8517);function O(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?O(Object(r),!0).forEach((function(n){(0,s.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function w(){var e=(0,a.Z)(["\n  .active-ballot-table {\n    .col-1 {\n      width: 0%;\n    }\n    .col-2 {\n      width: 100%;\n    }\n"]);return w=function(){return e},e}var E=(0,c.createContext)(),C=function(e){var n,r=e.data,t=(0,c.useContext)(E),i=t.togglePinnedList,s=t.removeNewFromList,a=t.newsList,d=t.pinnedList,u=!!d&&-1!==d.findIndex((function(e){return e.id===r.id})),f=!!a&&-1!==a.findIndex((function(e){return e.id===r.id}));return(0,l.jsx)("div",{className:"py-2 ",children:(0,l.jsxs)("div",{className:"flex py-8 px-3 md:py-8 flex-col md:flex-row rounded-lg ".concat(f?"bg-primary-highlight":""),onClick:function(){var e;(e=r).is_new&&s(e)},children:[(0,l.jsxs)("div",{className:"flex-none flex",children:[(0,l.jsx)("div",{className:"w-24 h-24",children:(0,l.jsx)("img",{className:"h-full w-full object-cover rounded-lg shadow-lg",src:"/images/img_signature.png",alt:"avatar"})}),(0,l.jsx)("div",{className:"px-6 pt-2 mt-auto md:mt-0",children:(0,l.jsx)(j,{className:"cursor-pointer ".concat(u?"text-primary":""),onClick:function(){i(r)}})})]}),(0,l.jsxs)("div",{className:"chat-content mt-5 md:m-0",children:[(0,l.jsxs)("div",{className:"chat-content-body",children:[(0,l.jsx)(o.default,{href:"/dashboard/discussion/".concat(r.id),children:(0,l.jsx)("h2",{className:"cursor-pointer text-lg mb-2.5",children:r.title})}),(0,l.jsx)("p",{className:"text-sm mb-5",dangerouslySetInnerHTML:{__html:r.description}})]}),(0,l.jsxs)("div",{className:"chat-content-footer flex text-sm flex-col md:flex-row",children:[(0,l.jsxs)("p",{children:["Posted by: ",(0,l.jsx)("a",{className:"text-primary",children:null===(n=r.user)||void 0===n?void 0:n.pseudonym})]}),(0,l.jsxs)("ul",{className:"ml-8 flex -ml-6 mt-5 md:ml-0 md:mt-0",children:[(0,l.jsxs)("li",{className:"flex px-6 items-center",children:[(0,l.jsx)(y,{}),(0,l.jsx)("span",{className:"pl-2.5",children:r.comments||0})]}),(0,l.jsxs)("li",{className:"flex px-6 items-center",children:[(0,l.jsx)(j,{}),(0,l.jsx)("span",{className:"pl-2.5",children:r.read||0})]}),(0,l.jsxs)("li",{className:"flex px-6 items-center",children:[(0,l.jsx)(g.Z,{}),(0,l.jsx)("span",{className:"pl-2.5",children:r.likes||0})]})]})]})]})]})})},S=u.ZP.div(w()),I=[{content:function(){var e=(0,d.I0)(),n=(0,m.x)(),r=n.data,t=n.register,i=n.hasMore,s=n.appendData,a=n.setHasMore,o=n.page,u=n.setPage,f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;e((0,N.Hp)({page:n},(function(e,n){s(e),a(n),u((function(e){return e+1}))})))};return(0,c.useEffect)((function(){f()}),[]),(0,l.jsx)(S,{className:"h-full",children:(0,l.jsxs)(h.iA,_(_({},t),{},{className:"active-ballot-table mr-5 h-full",onLoadMore:f,hasMore:i,dataLength:r.length,noMargin:!0,children:[(0,l.jsxs)(h.iA.Header,{children:[(0,l.jsx)(h.iA.HeaderCell,{}),(0,l.jsx)(h.iA.HeaderCell,{})]}),(0,l.jsx)(h.iA.Body,{children:r.map((function(e,n){return(0,l.jsxs)(h.iA.BodyRow,{children:[(0,l.jsx)(h.iA.BodyCell,{}),(0,l.jsx)(h.iA.BodyCell,{children:(0,l.jsx)(C,{data:e})})]},"b-".concat(n))}))})]}))})},id:"discuss",title:"All Discussions"},{content:function(){return(0,l.jsx)("ul",{className:"pb-20",children:(0,l.jsx)(E.Consumer,{children:function(e){return e.myList.map((function(e,n){return(0,l.jsx)("li",{children:(0,l.jsx)(C,{data:e})},n)}))}})})},id:"my-discussions",title:"My Discussions"},{content:function(){return(0,l.jsx)("ul",{className:"pb-20",children:(0,l.jsx)(E.Consumer,{children:function(e){return e.pinnedList.map((function(e,n){return(0,l.jsx)("li",{children:(0,l.jsx)(C,{data:e})},n)}))}})})},id:"pinned",title:"Pinned"}],D=(0,b.a)((function(){var e=(0,d.I0)(),n=(0,c.useState)([]),r=n[0],t=n[1],s=(0,c.useState)([]),a=s[0],u=s[1],m=(0,c.useState)([]),p=m[0],x=m[1];(0,c.useEffect)((function(){e((0,N.Pf)((function(e){t(e.pinned_discussions),x(e.new_discussions)}))),e((0,N.j_)((function(e){u(e)})))}),[]);return(0,l.jsx)(f.Z,{children:(0,l.jsx)(E.Provider,{value:{pinnedList:r,myList:a,newsList:p,togglePinnedList:function(n){var s=r.findIndex((function(e){return e.id===n.id}))>=0;e((0,N.Vk)(n.id,(function(){if(s){var e=r.filter((function(e){return e.id!==n.id}));t(e)}else t([].concat((0,i.Z)(r),[n]))})))},removeNewFromList:function(n){e((0,N.kO)(n.id,(function(){x(p.filter((function(e){return e.id!==n.id})))})))}},children:(0,l.jsx)(h.Zb,{className:"h-full md:pl-24 md:py-10 md:shadow-2xl",noShadow:!0,children:(0,l.jsxs)("div",{className:"w-full h-full",children:[(0,l.jsx)("div",{className:"flex justify-end md:mr-24",children:(0,l.jsx)(o.default,{href:"/dashboard/discussion/add",children:(0,l.jsx)("button",{type:"button",className:"transition text-lg text-white w-full md:w-56 h-12 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md",children:"+ New Discussion"})})}),(0,l.jsx)(h.OK,{className:"w-full h-full pt-12 md:pt-0 md:-mt-7",data:I})]})})})})}),"final-all")},8517:function(e,n,r){"use strict";r.d(n,{sp:function(){return t},HA:function(){return i},uM:function(){return s},u0:function(){return a},Dz:function(){return l},M3:function(){return c},eK:function(){return o},wT:function(){return d},Vu:function(){return u},Hp:function(){return f},Pf:function(){return h},j_:function(){return m},E_:function(){return p},XQ:function(){return x},Vk:function(){return j},vv:function(){return v},kO:function(){return y},nn:function(){return g},ob:function(){return b}});var t=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS",payload:e}},i=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS_ERROR",payload:e}},s=function(e,n){return{type:"GET_VOTES",payload:e,successCb:n}},a=function(e,n){return{type:"GET_VOTE_DETAIL",payload:e,callback:n}},l=function(e){return{type:"GET_VOTE_DETAIL_SUCCESS",payload:e}},c=function(e){return{type:"GET_VOTE_DETAIL_ERROR",payload:e}},o=function(e,n){return{type:"RECORD_VOTE",payload:e,callback:n}},d=function(e){return{type:"RECORD_VOTE_SUCCESS",payload:e}},u=function(e){return{type:"RECORD_VOTE_ERROR",payload:e}},f=function(e,n){return{type:"GET_DISCUSSIONS",payload:e,successCb:n}},h=function(e){return{type:"GET_PINNED_DISCUSSIONS",successCb:e}},m=function(e){return{type:"GET_MY_DISCUSSIONS",successCb:e}},p=function(e){return{type:"GET_TRENDING_DISCUSSIONS",successCb:e}},x=function(e,n){return{type:"GET_DISCUSSION_DETAIL",id:e,successCb:n}},j=function(e,n){return{type:"SET_DISCUSSION_PIN",id:e,successCb:n}},v=function(e,n,r){return{type:"CREATE_DISCUSSION",payload:e,successCb:n,resetSubmitting:r}},y=function(e,n){return{type:"SET_REMOVE_NEW",id:e,successCb:n}},g=function(e,n){return{type:"POST_DISCUSSION_COMMENT",payload:e,successCb:n}},b=function(e,n){return{type:"VOTE_DISCUSSION",payload:e,successCb:n}}},5718:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/discussion",function(){return r(9442)}])}},function(e){e.O(0,[9774,2554,1282,8930,6993,6095,4004],(function(){return n=5718,e(e.s=n);var n}));var n=e.O();_N_E=n}]);