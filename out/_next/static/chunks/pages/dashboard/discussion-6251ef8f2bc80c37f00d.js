(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3574],{9442:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return E}});var s,r=t(7329),i=t(6156),l=t(2465),a=t(5893),c=t(7294),o=t(1664),d=t(9226),u=t(9163),f=t(5955),h=t(5587),m=t(4605);function x(){return(x=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}var p,j=function(e){return c.createElement("svg",x({"data-name":"Icon material-remove-red-eye",xmlns:"http://www.w3.org/2000/svg",width:20.699,height:14.113},e),s||(s=c.createElement("path",{"data-name":"Icon material-remove-red-eye",fill:"currentColor",d:"M10.349 0A11.127 11.127 0 000 7.056a11.118 11.118 0 0020.7 0A11.127 11.127 0 0010.349 0zm0 11.761a4.7 4.7 0 114.7-4.7 4.706 4.706 0 01-4.7 4.7zm0-7.527a2.823 2.823 0 102.823 2.823 2.819 2.819 0 00-2.823-2.823z"})))};function g(){return(g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e}).apply(this,arguments)}var v=function(e){return c.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",width:14,height:14},e),p||(p=c.createElement("path",{"data-name":"Icon material-mode-comment",d:"M13.993 1.4A1.4 1.4 0 0012.6 0H1.4A1.4 1.4 0 000 1.4v8.4a1.4 1.4 0 001.4 1.4h9.8L14 14z"})))},w=t(4677),y=t(4015),b=t(8517);function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(){var e=(0,l.Z)(["\n  .active-ballot-table {\n    .col-1 {\n      width: 0%;\n    }\n    .col-2 {\n      width: 100%;\n    }\n"]);return P=function(){return e},e}var _=(0,c.createContext)(),L=function(e){var n,t=e.data,s=(0,c.useContext)(_),r=s.togglePinnedList,i=s.removeNewFromList,l=s.newsList,d=s.pinnedList,u=!!d&&-1!==d.findIndex((function(e){return e.id===t.id})),f=!!l&&-1!==l.findIndex((function(e){return e.id===t.id}));return(0,a.jsx)("div",{className:"py-2 ",children:(0,a.jsxs)("div",{className:"flex py-8 px-3 lg:py-8 flex-col lg:flex-row rounded-lg ".concat(f?"bg-primary-highlight":""),onClick:function(){var e;(e=t).is_new&&i(e)},children:[(0,a.jsxs)("div",{className:"flex-none flex",children:[(0,a.jsx)("div",{className:"w-24 h-24",children:(0,a.jsx)("img",{className:"h-full w-full object-cover rounded-lg shadow-lg",src:"/images/img_signature.png",alt:"avatar"})}),(0,a.jsx)("div",{className:"px-6 pt-2 mt-auto lg:mt-0",children:(0,a.jsx)(j,{className:"cursor-pointer ".concat(u?"text-primary":""),onClick:function(){r(t)}})})]}),(0,a.jsxs)("div",{className:"chat-content mt-5 lg:m-0",children:[(0,a.jsxs)("div",{className:"chat-content-body",children:[(0,a.jsx)(o.default,{href:"/dashboard/discussion/".concat(t.id),children:(0,a.jsx)("h2",{className:"cursor-pointer text-lg mb-2.5",children:t.title})}),(0,a.jsx)("p",{className:"text-sm mb-5",dangerouslySetInnerHTML:{__html:t.description}})]}),(0,a.jsxs)("div",{className:"chat-content-footer flex text-sm flex-col lg:flex-row",children:[(0,a.jsxs)("p",{children:["Posted by: ",(0,a.jsx)("a",{className:"text-primary",children:null===(n=t.user)||void 0===n?void 0:n.pseudonym})]}),(0,a.jsxs)("ul",{className:"ml-8 flex -ml-6 mt-5 lg:ml-0 lg:mt-0",children:[(0,a.jsxs)("li",{className:"flex px-6 items-center",children:[(0,a.jsx)(v,{}),(0,a.jsx)("span",{className:"pl-2.5",children:t.comments||0})]}),(0,a.jsxs)("li",{className:"flex px-6 items-center",children:[(0,a.jsx)(j,{}),(0,a.jsx)("span",{className:"pl-2.5",children:t.read||0})]}),(0,a.jsxs)("li",{className:"flex px-6 items-center",children:[(0,a.jsx)(w.Z,{}),(0,a.jsx)("span",{className:"pl-2.5",children:t.likes||0})]})]})]})]})]})})},A=u.ZP.div(P()),C=[{content:function(){var e=(0,d.I0)(),n=(0,m.x)(),t=n.data,s=n.register,r=n.hasMore,i=n.appendData,l=n.setHasMore,o=n.page,u=n.setPage,f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;e((0,b.Hp)({page:n},(function(e,n){i(e),l(n),u((function(e){return e+1}))})))};return(0,c.useEffect)((function(){f()}),[]),(0,a.jsx)(A,{className:"h-full",children:(0,a.jsxs)(h.iA,O(O({},s),{},{className:"active-ballot-table mr-5 h-full",onLoadMore:f,hasMore:r,dataLength:t.length,noMargin:!0,children:[(0,a.jsxs)(h.iA.Header,{children:[(0,a.jsx)(h.iA.HeaderCell,{}),(0,a.jsx)(h.iA.HeaderCell,{})]}),(0,a.jsx)(h.iA.Body,{children:t.map((function(e,n){return(0,a.jsxs)(h.iA.BodyRow,{children:[(0,a.jsx)(h.iA.BodyCell,{}),(0,a.jsx)(h.iA.BodyCell,{children:(0,a.jsx)(L,{data:e})})]},"b-".concat(n))}))})]}))})},id:"discuss",title:"All Discussions"},{content:function(){return(0,a.jsx)("ul",{className:"pb-20",children:(0,a.jsx)(_.Consumer,{children:function(e){return e.myList.map((function(e,n){return(0,a.jsx)("li",{children:(0,a.jsx)(L,{data:e})},n)}))}})})},id:"my-discussions",title:"My Discussions"},{content:function(){return(0,a.jsx)("ul",{className:"pb-20",children:(0,a.jsx)(_.Consumer,{children:function(e){return e.pinnedList.map((function(e,n){return(0,a.jsx)("li",{children:(0,a.jsx)(L,{data:e})},n)}))}})})},id:"pinned",title:"Pinned"}],E=(0,y.a)((function(){var e=(0,d.I0)(),n=(0,c.useState)([]),t=n[0],s=n[1],i=(0,c.useState)([]),l=i[0],u=i[1],m=(0,c.useState)([]),x=m[0],p=m[1];(0,c.useEffect)((function(){e((0,b.Pf)((function(e){s(e.pinned_discussions),p(e.new_discussions)}))),e((0,b.j_)((function(e){u(e)})))}),[]);return(0,a.jsx)(f.Z,{children:(0,a.jsx)(_.Provider,{value:{pinnedList:t,myList:l,newsList:x,togglePinnedList:function(n){var i=t.findIndex((function(e){return e.id===n.id}))>=0;e((0,b.Vk)(n.id,(function(){if(i){var e=t.filter((function(e){return e.id!==n.id}));s(e)}else s([].concat((0,r.Z)(t),[n]))})))},removeNewFromList:function(n){e((0,b.kO)(n.id,(function(){p(x.filter((function(e){return e.id!==n.id})))})))}},children:(0,a.jsx)(h.Zb,{className:"h-full lg:pl-24 lg:py-10 lg:shadow-2xl",noShadow:!0,children:(0,a.jsxs)("div",{className:"w-full h-full",children:[(0,a.jsx)("div",{className:"flex justify-end lg:mr-24",children:(0,a.jsx)(o.default,{href:"/dashboard/discussion/add",children:(0,a.jsx)("button",{type:"button",className:"transition text-lg text-white w-full lg:w-56 h-12 rounded-full bg-primary hover:opacity-40 disabled:opacity-40 disabled:cursor-not-allowed focus:outline-none shadow-md",children:"+ New Discussion"})})}),(0,a.jsx)(h.OK,{className:"w-full h-full pt-12 lg:pt-0 lg:-mt-7",data:C})]})})})})}),"final-all")},5718:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/discussion",function(){return t(9442)}])}},function(e){e.O(0,[9774,2554,1282,8930,6993,6095,4004,1817],(function(){return n=5718,e(e.s=n);var n}));var n=e.O();_N_E=n}]);