(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8333],{57037:function(e,t,n){"use strict";var r,s=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 29.25 29.25"},e),r||(r=s.createElement("path",{"data-name":"Icon ionic-ios-checkmark-circle",d:"M14.625 0A14.625 14.625 0 1029.25 14.625 14.623 14.623 0 0014.625 0zm7.488 10.582l-9.4 9.443h-.008a1.27 1.27 0 01-.816.387 1.231 1.231 0 01-.823-.4l-3.941-3.939a.28.28 0 010-.4l1.256-1.248a.272.272 0 01.394 0l3.122 3.122 8.578-8.641a.278.278 0 01.2-.084.255.255 0 01.2.084l1.23 1.273a.277.277 0 01.008.403z",fill:"currentColor"})))}},9420:function(e,t,n){"use strict";var r,s=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return s.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 41.191 41.191"},e),r||(r=s.createElement("path",{"data-name":"Icon metro-cross",d:"M40.815 33.092l-12.5-12.5 12.5-12.5a1.29 1.29 0 000-1.82l-5.9-5.9a1.291 1.291 0 00-1.82 0l-12.5 12.5L8.099.372a1.29 1.29 0 00-1.82 0l-5.9 5.9a1.29 1.29 0 000 1.82l12.5 12.5-12.5 12.5a1.29 1.29 0 000 1.82l5.9 5.9a1.29 1.29 0 001.82 0l12.5-12.5 12.5 12.5a1.29 1.29 0 001.82 0l5.9-5.9a1.29 1.29 0 000-1.82z",fill:"currentColor"})))}},22161:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(85893),s=n(96156),a=n(11163),i=n(67294),l=n(30463),o=n(49226),c=n(24015),d=n(7667),u=n(66570),m=n(69299),f=n(42283),p=n(57037),x=n(12245),h=n(11455);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t,n,s=e.isVerified,a=e.setPublicAddressVerified,l=(0,o.I0)(),c=(0,f.cI)(),d=c.formState,u=c.register,m=c.handleSubmit,g=c.watch,b=(0,i.useState)(!1),j=b[0],_=b[1],w=/^01[0-9a-fA-F]{64}$/,v=/^02[0-9a-fA-F]{66}$/,N=function(e){return w.test(e)?"valid_ed25519":!!v.test(e)&&"valid_secp256k1"},O=g("publicAddress");(0,i.useEffect)((function(){!1===N(O)&&a(!1)}),[O]);return(0,r.jsxs)("form",{className:"pt-8",onSubmit:m((function(e){var t=e.publicAddress;_(!0),l((0,h.Kt)({pubAddress:t},(function(){a(!0)}),(function(){_(!1)})))})),children:[(0,r.jsx)("p",{className:"text-2.5xl whitespace-pre-line animate__animated animate__fadeInLeft animate__delay-2s",children:"Please enter the public address of your validator node and\npress submit"}),(0,r.jsx)("p",{className:"text-sm mt-2 text-dark1 animate__animated animate__fadeInLeft animate__delay-4s",children:"Clicking below will open up the hellosign document for capturing your electronic signature"}),(0,r.jsxs)("div",{className:"lg:relative mt-12 animate__animated animate__fadeInUp animate__delay-6s",children:[(0,r.jsx)("input",y({type:"text",readOnly:s,className:"w-full h-16 text-xl px-7 lg:pr-72 rounded-full shadow-md focus:outline-none",name:"publicAddress"},u("publicAddress",{validate:function(e){return!1!==N(e)||"This is not a valid address"}}))),(0,r.jsx)("span",{className:"lg:absolute right-0",children:(0,r.jsx)(x.fl,{type:"submit",isDisabled:j||!O,isLoading:j,title:"Verify",className:"text-lg text-white w-full lg:w-64 h-16 rounded-full bg-primary focus:outline-none mt-2 lg:mt-0 disabled:opacity-30 disabled:cursor-not-allowed"})}),s&&(0,r.jsx)(p.Z,{className:"absolute bottom-4 -right-20 hidden lg:block text-primary text-3xl"})]}),(null===(t=d.errors)||void 0===t?void 0:t.publicAddress)&&(0,r.jsx)("p",{className:"pl-7 mt-2 text-primary",children:null===(n=d.errors.publicAddress)||void 0===n?void 0:n.message})]})};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.isUploading,n=e.isUploaded,s=e.onUpload,a=e.onContinue,l=(0,o.I0)(),c=(0,i.useState)({downloaded:!1,seenguide:!1,uploaded:!1}),d=c[0],u=c[1],m=(0,i.useState)(!1),f=m[0],g=m[1];return(0,r.jsxs)("div",{className:"pt-8",children:[(0,r.jsx)("p",{className:"text-2.5xl animate__animated animate__fadeInLeft animate__delay-2s",children:"Thanks"}),(0,r.jsx)("p",{className:"text-sm mt-2 text-dark1 whitespace-pre-line animate__animated animate__fadeInLeft animate__delay-4s",children:"Thanks! Now we need to verify this node address is owned or controlled by you. Please follow\nthe steps below:"}),(0,r.jsxs)("div",{className:"mt-12 mr-8",children:[(0,r.jsxs)("div",{className:"flex animate__animated animate__fadeInUp animate__delay-6s",children:[(0,r.jsx)("p",{className:"text-2xl -mt-2 lg:mt-0",children:"1."}),(0,r.jsxs)("div",{className:"flex-grow lg:flex ml-8 lg:items-end",children:[(0,r.jsx)("p",{className:"text-sm lg:flex-grow pb-1",children:"Download this message file for signing."}),(0,r.jsx)("button",{type:"button",className:"bg-primary rounded-full text-white w-32 h-8 shadow-md focus:outline-none",onClick:function(){u(_(_({},d),{},{downloaded:!0}))},children:(0,r.jsx)("a",{href:"/files/SAMPLE.pdf",download:!0,children:"Download"})})]})]}),(0,r.jsxs)("div",{className:"flex my-8 animate__animated animate__fadeInUp animate__delay-7s",children:[(0,r.jsx)("p",{className:"text-2xl -mt-2 lg:mt-0",children:"2."}),(0,r.jsxs)("div",{className:"flex-grow lg:flex ml-8 lg:items-end",children:[(0,r.jsx)("p",{className:"text-sm lg:flex-grow pb-1",children:"Sign the message with your node. See guide for more details."}),(0,r.jsx)(x.zx,{isLoading:f,className:"bg-primary rounded-full text-white w-32 h-8 shadow-md focus:outline-none disabled:opacity-25 disabled:cursor-not-allowed",onClick:function(){g(!0),l((0,h.S5)(void 0,(function(){u(_(_({},d),{},{seenguide:!0})),g(!1)})))},sizeSpinner:15,disabled:!d.downloaded||f,children:"View Guide"})]})]}),(0,r.jsxs)("div",{className:"flex animate__animated animate__fadeInUp animate__delay-8s",children:[(0,r.jsx)("p",{className:"text-2xl -mt-2 lg:mt-0",children:"3."}),(0,r.jsxs)("div",{className:"flex-grow lg:flex ml-8 lg:items-end",children:[(0,r.jsx)("p",{className:"text-sm lg:flex-grow pb-1",children:"Upload the signed file for the system to check."}),(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(x.zx,{isLoading:t,className:"bg-primary rounded-full text-white w-32 h-8 shadow-md focus:outline-none disabled:opacity-25 disabled:cursor-not-allowed",onClick:s,sizeSpinner:15,disabled:!d.downloaded||!d.seenguide||t,children:"Upload"}),n&&(0,r.jsx)(p.Z,{className:"-mr-8 ml-4 mt-2 text-primary text-base"})]})]})]})]}),(0,r.jsx)("button",{type:"button",className:"text-lg text-white w-full lg:w-64 h-16 rounded-full bg-primary focus:outline-none mt-12 disabled:opacity-30 lg:hidden",disabled:!n,onClick:a,children:"Continue"})]})},v=n(733),N=n.n(v),O=n(9420),E=function(e){var t=e.newFile,n=e.onContinue,s=e.setMessageFileStatus,a=(0,o.I0)(),l=(0,i.useState)("checking"),c=l[0],d=l[1];return(0,i.useEffect)((function(){"checking"===c&&a((0,h.Dr)({newFile:t},(function(){d("succeed"),s("succeed")}),(function(){d("failed")})))}),[c]),(0,r.jsxs)("div",{className:"pt-8",children:["checking"===c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-2.5xl animate__animated animate__fadeInLeft animate__delay-2s",children:"Thank you"}),(0,r.jsx)("p",{className:"text-sm mt-2 text-dark1 whitespace-pre-line animate__animated animate__fadeInLeft animate__delay-4s",children:"We are checking your message file. Do not exit this screen."}),(0,r.jsx)("div",{className:"lg:relative mt-24 animate__animated animate__fadeIn animate__delay-6s",children:(0,r.jsx)(N(),{type:"spinningBubbles",color:"#FF473E",width:137,height:141})})]}),"succeed"===c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"text-6xl 2xl:text-5xl text-success"}),(0,r.jsxs)("p",{className:"mt-12 text-2.5xl",children:["Your node is: ",(0,r.jsx)("span",{className:"text-success",children:"Verified"})]}),(0,r.jsx)("p",{className:"text-sm text-dark1 mt-1",children:"Way to go! Your signed message has verified your node. This step is complete."})]}),"failed"===c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-5xl",children:(0,r.jsx)(O.Z,{className:"text-primary"})}),(0,r.jsxs)("p",{className:"mt-12 text-2.5xl",children:["Your node is: ",(0,r.jsx)("span",{className:"text-primary",children:"Not Verified"})]}),(0,r.jsx)("p",{className:"text-sm text-dark1 mt-1",children:"Please go back and start the previous step again. If this has happened more than once, contact support."})]}),(0,r.jsx)("button",{type:"button",className:"text-lg text-white w-full lg:w-64 h-16 rounded-full bg-primary focus:outline-none mt-12 disabled:opacity-30 lg:hidden ".concat("succeed"===c?"block":""),disabled:"succeed"!==c,onClick:function(){"succeed"===c&&n()},children:"Continue"})]})},S=n(43022);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=(0,c.a)((function(){var e=(0,o.I0)(),t=(0,i.useState)(1),n=t[0],s=t[1],c=(0,i.useState)(!1),f=c[0],p=c[1],x=(0,i.useState)(null),h=x[0],g=x[1],y=(0,i.useState)("checking"),j=y[0],_=y[1],v=(0,i.useState)(!1),N=v[0],O=v[1],k=(0,i.useRef)(null);(0,i.useEffect)((function(){return document.addEventListener("click",F,!0),function(){document.removeEventListener("click",F,!0)}}),[]);var D=function(e){"open"===e?(document.getElementById("custom-content").classList.add("remove-animation"),O(!0)):"close"===e&&O(!1)},I=(0,i.useCallback)((function(e){var t=e[0],n={lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,type:t.type},r=new File([t],"signature",n);D("close"),O(!1),g(r)}),[]),C=(0,l.u)({multiple:!1,onDrop:I}),L=C.getRootProps,A=C.getInputProps,R=(0,a.useRouter)(),U=function(){3===n&&"succeed"===j?(R.push("/onboard"),e((0,S.Nq)({node_verified_at:!0}))):s(n+1)},T=function(){return 1===n?f:2===n?h:3!==n||"succeed"===j},F=function(e){var t,n=e.target;null!==k&&void 0!==k&&null!==(t=k.current)&&void 0!==t&&t.contains(n)||D("close")};return(0,r.jsx)("div",{className:"flex justify-center min-h-screen",children:(0,r.jsxs)("div",{className:" flex flex-col w-full p-4 lg:max-w-380 lg:p-9 xl:max-w-screen-xl xl:p-9 2xl:max-w-screen-2xl ",children:[(0,r.jsx)(u.Z,{theme:"dark"}),(0,r.jsx)("div",{className:"flex-grow lg:flex lg:items-center justify-center mt-12 lg:mt-0",children:(0,r.jsx)(m.Z,{title:"Verify Node Ownership",description:"Please choose Sign In if you have an existing account or Register if this is your first time here.",imageUrl:"/images/img_ownership_blur.png",currentStep:n,totalSteps:3,stepContent:1===n?(0,r.jsx)(b,{setPublicAddressVerified:p,isVerified:f}):2===n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w,{isUploaded:h,onUpload:function(){return D("open")},onContinue:U}),N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"backdrop-filter backdrop-blur-sm justify-center items-center flex fixed inset-0 z-50",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl shadow-2xl mx-4 relative bg-white",ref:k,children:[(0,r.jsx)("div",P(P({},L()),{},{children:(0,r.jsx)("div",{className:"py-36 flex flex-col items-center justify-between border-2 border-dashed border-gray",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between",children:[(0,r.jsx)("input",P({},A())),(0,r.jsx)("img",{src:"/images/ic_upload.svg",alt:"upload",className:"align-middle mb-6"}),(0,r.jsx)("button",{type:"button",className:"mb-2.5 text-lg text-white w-full px-14 py-5 shadow-lg rounded-full bg-primary hover:opacity-40 focus:outline-none",children:"Upload Signed File"}),(0,r.jsx)("span",{className:"hidden lg:block",children:"Or Drop File Here"})]})})})),(0,r.jsx)("button",{type:"button",className:"transform -translate-x-1/2 absolute left-1/2 bottom-6 text-primary text-xs underline",onClick:function(){return D("close")},children:"Cancel"})]})}),(0,r.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})]}):3===n?(0,r.jsx)(E,{newFile:h,onContinue:U,setMessageFileStatus:_}):(0,r.jsx)(r.Fragment,{}),showNextButton:T(),showContinueButton:T(),continueButtonTitle:3===n?"Complete":"Next",onPrev:function(){1===n?R.back():(g(null),s(n-1))},onNext:U})}),(0,r.jsx)(d.Z,{theme:"dark"})]})})}),"onboarding")},11455:function(e,t,n){"use strict";n.d(t,{EA:function(){return r},zj:function(){return s},w:function(){return a},_9:function(){return i},H5:function(){return l},Kt:function(){return o},Dr:function(){return c},S5:function(){return d},cf:function(){return u},M9:function(){return m},f4:function(){return f},gS:function(){return p},cG:function(){return x},q6:function(){return h},DD:function(){return g}});var r=function(e,t){return{type:"HELLO_SIGN_REQUEST",resolve:e,reject:t}},s=function(e){return{type:"BYPASS_HELLO_SIGN_REQUEST",callback:e}},a=function(e,t){return{type:"BYPASS_ONBOARD_STEP",payload:e,callback:t}},i=function(e){return{type:"SAVE_SHUFTI",payload:e}},l=function(e,t,n){return{type:"UPDATE_SHUFTI",payload:e,resolve:t,reject:n}},o=function(e,t,n){return{type:"SUBMIT_PUBLIC_ADDRESS",callback:t,isVerifying:n,payload:e}},c=function(e,t,n){return{type:"VERIFY_FILE_CASPER_SIGNER",payload:e,resolve:t,reject:n}},d=function(e,t){return{type:"HANDLE_VIEW_GUIDE",resolve:t}},u=function(e,t,n){return{type:"UPLOAD_LETTER",payload:e,resolve:t,reject:n}},m=function(e){return{type:"UPLOAD_LETTER_SUCCESS",payload:e}},f=function(e){return{type:"UPLOAD_LETTER_ERROR",payload:e}},p=function(e){return{type:"GET_OWNER_NODES_SUCCESS",payload:e}},x=function(e){return{type:"GET_OWNER_NODES_ERROR",payload:e}},h=function(){return{type:"CLEAR_OWNER_NODES"}},g=function(){return{type:"CLEAR_LETTER"}}},70649:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboard/verify-node-ownership",function(){return n(22161)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,2283,463,1045,2627],(function(){return t=70649,e(e.s=t);var t}));var t=e.O();_N_E=t}]);