(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9216],{9420:function(e,t,n){"use strict";var r,l=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return l.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 41.191 41.191"},e),r||(r=l.createElement("path",{"data-name":"Icon metro-cross",d:"M40.815 33.092l-12.5-12.5 12.5-12.5a1.29 1.29 0 000-1.82l-5.9-5.9a1.291 1.291 0 00-1.82 0l-12.5 12.5L8.099.372a1.29 1.29 0 00-1.82 0l-5.9 5.9a1.29 1.29 0 000 1.82l12.5 12.5-12.5 12.5a1.29 1.29 0 000 1.82l5.9 5.9a1.29 1.29 0 001.82 0l12.5-12.5 12.5 12.5a1.29 1.29 0 001.82 0l5.9-5.9a1.29 1.29 0 000-1.82z",fill:"currentColor"})))}},70638:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(85893),l=n(67294),a=n(11163),s=n(49226),i=n(7667),o=n(66570),c=n(96156),u=n(30463),d=n(9420),m=n(12245);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={flex:1,display:"flex",flexDirection:"column",alignItems:"center",borderWidth:2,borderRadius:2,borderColor:"#9A9A9A",borderStyle:"dashed",outline:"none",transition:"border .24s ease-in-out"},h={borderColor:"#2DDB33"},g={borderColor:"#ff1744"},b=function(e){var t=e.status,n=e.selectedDocument,a=e.onDocumentSelect,s=(0,l.useState)(!1),i=s[0],o=s[1],c=(0,l.useRef)(null);(0,l.useEffect)((function(){return document.addEventListener("click",O,!0),function(){document.removeEventListener("click",O,!0)}}),[]);var p=function(e){"open"===e?(document.getElementById("custom-content").classList.add("remove-animation"),o(!0)):"close"===e&&o(!1)},b=(0,l.useCallback)((function(e){var t=e[0];if(t){var n=t.name,r={lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,type:t.type},l=new File([t],n,r);p("close"),a({name:n,file:l})}}),[]),j=(0,u.u)({multiple:!1,onDrop:b,accept:"application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/plain, text/rtf"}),y=j.getRootProps,v=j.getInputProps,w=j.fileRejections,N=j.isDragAccept,_=j.isDragReject,k=(0,l.useMemo)((function(){return f(f(f({},x),N?h:{}),_?g:{})}),[_,N]),O=function(e){var t,n=e.target;null!==c&&void 0!==c&&null!==(t=c.current)&&void 0!==t&&t.contains(n)||p("close")};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"pt-8",children:["rejected"===t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-2.5xl",children:"Thank you for your uploading."}),(0,r.jsx)("p",{className:"text-sm mt-2 lg:mb-14 mb-14 text-dark1",children:"Unfortunately at this time we are unable to accept you letter of motivation. You can resubmit your letter and try again."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"text-2.5xl",children:"First, please upload a letter explaining why you would like to join."}),(0,r.jsx)("p",{className:"text-sm mt-2 lg:mb-14 mb-14 text-dark1",children:"Each member in the portal must upload a \u201cletter of motivation\u201d summarizing why they are requesting to become a member. This letter should explain, in a short paragraph or two, why you would like to become a member of the Casper Association and include the signature of the node operator or person in a management role within your organization."})]}),(0,r.jsxs)("div",{className:"lg:flex-column lg:space-x-5 lg:justify-start animate__animated animate__fadeInUp animate__delay-2s",children:[(0,r.jsx)(m.fl,{type:"submit",title:"Upload letter",className:"text-lg text-white w-full lg:w-64 h-16 rounded-full bg-primary hover:opacity-40 focus:outline-none shadow-lg",onClick:function(){return p("open")}}),n&&(0,r.jsxs)("div",{className:"flex mt-5 items-center",children:[(0,r.jsx)("button",{className:"pr-3 w-7",onClick:function(){return a(null)},type:"button",children:(0,r.jsx)(d.Z,{className:"text-primary"})}),(0,r.jsx)("span",{className:"text-sm text-primary",children:n.name})]})]})]}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"backdrop-filter backdrop-blur-sm justify-center items-center flex fixed inset-0 z-50",children:(0,r.jsx)("div",{className:"w-full max-w-2xl shadow-2xl mx-4 relative bg-white",ref:c,children:(0,r.jsx)("div",f(f({},y({style:k})),{},{children:(0,r.jsx)("div",{className:"py-36 flex flex-col items-center justify-between",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between",children:[(0,r.jsx)("input",f({},v())),(0,r.jsx)("img",{src:"/images/ic_upload.svg",alt:"upload",className:"align-middle mb-6"}),(0,r.jsx)("button",{type:"button",className:"mb-2.5 text-lg text-white w-full px-14 py-5 shadow-lg rounded-full bg-primary hover:opacity-40 focus:outline-none",children:"Upload Letter of Motivation"}),(0,r.jsx)("span",{className:"hidden lg:block",children:"Or Drop File Here"}),(_||!!w.length)&&(0,r.jsx)("span",{className:"hidden lg:block text-primary",children:"Only *.pdf, *.doc, *.docx, *.txt, *.rtf file will be accepted"})]})})}))})}),(0,r.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})]})},j=function(){return(0,r.jsxs)("div",{className:"pt-8",children:[(0,r.jsx)("p",{className:"text-2.5xl",children:"Thanks!"}),(0,r.jsx)("p",{className:"text-sm mt-2 lg:mb-14 mb-14 text-dark1",children:"An admin must approve the document you uploaded. This usually happens within 24hrs. You can check the status later."}),(0,r.jsxs)("p",{className:"text-2.5xl",children:["Status: ",(0,r.jsx)("span",{className:"text-success",children:"Pending"})]})]})},y=n(69299),v=n(11455),w=n(24015),N=n(43022),_=n(97705),k=(0,w.a)((function(){var e=(0,s.I0)(),t=(0,a.useRouter)(),n=(0,l.useContext)(_.AppContext).setLoading,c=(0,l.useState)(null),u=c[0],d=c[1],m=(0,l.useState)(null),p=m[0],f=m[1],x=(0,l.useState)(null),h=x[0],g=x[1],w=(0,s.v9)((function(e){return e.authReducer.userInfo}));(0,l.useEffect)((function(){w.letter_verified_at?w.signature_request_id&&w.node_verified_at?(e((0,N.Nq)({period:"final"})),t.push("/dashboard")):t.push("/onboard"):null!==w&&void 0!==w&&w.letter_file?g(2):(g(1),w.letter_rejected_at?f("rejected"):f(null))}),[w]);return(0,r.jsx)("div",{className:"flex justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"w-full md:max-w-screen-2xl md:p-9 p-4 flex flex-col",children:[(0,r.jsx)(o.Z,{theme:"dark"}),(0,r.jsx)("div",{className:"flex-grow md:flex md:items-center justify-center mt-12 md:mt-0",children:(0,r.jsx)(y.Z,{title:"Upload Letter",description:"Write and upload a short letter outlining why you would like to sign up.",imageUrl:"/images/img_signature_blur.png",currentStep:h,totalSteps:2,stepContent:1===h?(0,r.jsx)(b,{selectedDocument:u,onDocumentSelect:function(e){d(u===e?null:e)},status:p}):2===h?(0,r.jsx)(j,{}):(0,r.jsx)(r.Fragment,{}),showNextButton:u||2===h,showContinueButton:u||2===h,continueButtonTitle:"Continue",onPrev:function(){t.back()},onNext:function(){2!==h?(n(!0),e((0,v.cf)({newFile:u.file},(function(){n(!1),e((0,N.Nq)({letter_file:u.name,letter_rejected_at:null})),g(2)}),(function(){n(!1)})))):t.push("/onboard")}})}),(0,r.jsx)(i.Z,{theme:"dark"})]})})}),"onboarding")},91394:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboard/upload-letter",function(){return n(70638)}])}},function(e){e.O(0,[9774,2554,4597,9650,6993,6095,8661,9669,3913,463,1045,8216,2627],(function(){return t=91394,e(e.s=t);var t}));var t=e.O();_N_E=t}]);