(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5629],{7329:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(5219);var a=t(2961);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},4015:function(e,r,t){"use strict";t.d(r,{a:function(){return u}});var n=t(6156),a=t(5893),i=t(7294),s=t(1163),l=t(9226);var o=t(4791);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var u=function(e,r){return function(t){var u=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).urlType,r=void 0===e?"public":e,t=(0,l.v9)((function(e){return e.authReducer.userInfo}));return(0,i.useEffect)((function(){if("public"!==r&&r&&t)if(t&&null!==t&&void 0!==t&&t.isLoggedIn)if("member"===t.role){if("auth"===r)return"verifying"===t.period&&s.default.push("/verify-email"),"onboarding"===t.period&&s.default.push("/onboard"),void("final"===t.period&&s.default.push("/dashboard"));if("verifying"===r)return"onboarding"===t.period&&s.default.push("/onboard"),void("final"===t.period&&s.default.push("/dashboard"));if("onboarding"===r)return"verifying"===t.period&&s.default.push("/verify-email"),void("final"===t.period&&s.default.push("/dashboard"));if("final-member"===r||"final-all"===r)return"verifying"===t.period&&s.default.push("/verify-email"),void("onboarding"===t.period&&s.default.push("/onboard"));"final-admin"===r&&("verifying"===t.period&&s.default.push("/verify-email"),"onboarding"===t.period&&s.default.push("/onboard"),"final"===t.period&&s.default.push("/dashboard"))}else"admin"===t.role&&"final-all"!==r&&"final-admin"!==r&&s.default.push("/admin/dashboard");else"auth"!==r&&s.default.push("/login")}),[t,r]),{user:t}}({urlType:r}).user;if(r&&"public"!==r){if(!u)return(0,a.jsx)(o.Z,{});if("auth"===r&&u.isLoggedIn)return(0,a.jsx)(o.Z,{});if("auth"!==r&&!u.isLoggedIn)return(0,a.jsx)(o.Z,{});if("member"===u.role){if(["final-all","final-member"].includes(r)&&"final"!==u.period)return(0,a.jsx)(o.Z,{});if(["verifying"].includes(r)&&"verifying"!==u.period)return(0,a.jsx)(o.Z,{});if(["onboarding"].includes(r)&&"onboarding"!==u.period)return(0,a.jsx)(o.Z,{})}if("admin"===u.role&&["verifying","onboarding","final-member"].includes(r))return(0,a.jsx)(o.Z,{})}return(0,a.jsx)(e,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},t))}}},6632:function(e,r,t){"use strict";var n=t(5893),a=t(7329),i=t(2465),s=t(7294),l=t(9226),o=t(1163),c=t(9163),u=t(8517),d=t(9582);function f(){var e=(0,i.Z)(["\n  .active-vote-table {\n    .col-1 {\n      width: 55%;\n    }\n    .col-2 {\n      width: 45%;\n    }\n    .custom-row {\n      border: 0;\n      padding: 10px 0;\n    }\n  }\n"]);return f=function(){return e},e}var h=c.ZP.div(f());r.Z=function(e){var r=e.toggleOpenVotes,t=(0,s.useState)([]),i=t[0],c=t[1],f=(0,s.useState)(!0),p=f[0],m=f[1],x=(0,s.useState)(1),g=x[0],v=x[1],y=(0,l.I0)(),b=(0,o.useRouter)(),j=function(){y((0,u.uM)({status:"active",page:g},(function(e,r){m(r),c((function(r){return[].concat((0,a.Z)(r),(0,a.Z)(e))})),v((function(e){return e+1}))})))};(0,s.useEffect)((function(){j()}),[]),(0,s.useEffect)((function(){console.log("!!activeVotes.length",!!i.length),r(!!i.length)}),[JSON.stringify(i)]);return(0,n.jsxs)("div",{className:"flex flex-col px-8 py-7 h-full",children:[(0,n.jsx)("p",{className:"text-2.5xl text-black1",children:"Open Votes"}),(0,n.jsx)("div",{className:"flex flex-col lg:pt-6 h-8.5/10",children:(0,n.jsx)(h,{className:"h-full w-full",children:(0,n.jsxs)(d.iA,{className:"active-vote-table w-full h-full min-w-full",onLoadMore:j,hasMore:p,dataLength:i.length,children:[(0,n.jsxs)(d.iA.Header,{children:[(0,n.jsx)(d.iA.HeaderCell,{children:(0,n.jsx)("p",{className:"underline font-normal",children:"Title"})}),(0,n.jsx)(d.iA.HeaderCell,{children:(0,n.jsx)("p",{className:"underline font-normal",children:"Time Left"})})]}),(0,n.jsx)(d.iA.Body,{children:i.map((function(e,r){return(0,n.jsxs)(d.iA.BodyRow,{selectRowHandler:function(){return r=e.id,void b.push("/dashboard/votes/active/".concat(r));var r},className:"custom-row",children:[(0,n.jsx)(d.iA.BodyCell,{children:(0,n.jsx)("p",{className:"truncate",children:e.title})}),(0,n.jsx)(d.iA.BodyCell,{children:(0,n.jsx)(d.ZF,{endTime:new Date(e.time_end),startTime:new Date(e.created_at),hideProgressBar:!0})})]},r)}))})]})})})]})}},4791:function(e,r,t){"use strict";var n=t(5893),a=t(733),i=t.n(a);r.Z=function(){return(0,n.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-40",children:[(0,n.jsx)("div",{className:"fixed inset-0 bg-white opacity-40"}),(0,n.jsx)(i(),{className:"z-50",type:"spinningBubbles",color:"#FF473E",width:100,height:100})]})}},4590:function(e,r,t){"use strict";t.d(r,{Z:function(){return c}});var n=t(5893),a=t(4504),i=t(9226),s=t(9582),l=t(6570),o=function(){var e=(0,i.v9)((function(e){return e.authReducer.userInfo.fullInfo}));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Zb,{className:"flex-col w-24 px-5 hidden lg:flex h-full overflow-y-scroll",children:[(0,n.jsx)("img",{className:"py-6 border-b-2 border-primary align-center",src:"/images/ic_logo_home.svg",alt:"Casper"}),(0,n.jsxs)("ul",{className:"mb-4 flex flex-col items-center border-b-2 border-primary",children:[(0,n.jsx)("li",{className:"pb-4 pt-14",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard",children:(0,n.jsx)("a",{className:"rounded-lg inline-block",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_home.svg",alt:"Home"})})})}),(0,n.jsx)("li",{className:"py-2",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/nodes",children:(0,n.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_infor.svg",alt:"Validator Info"})})})}),(0,n.jsx)("li",{className:"py-2",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/discussion",children:(0,n.jsx)("a",{className:"rounded-lg inline-block",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_material_chat.svg",alt:"Material Chat"})})})}),(0,n.jsx)("li",{className:"py-2",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/votes",children:(0,n.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_awesome_vote.svg",alt:"Vote"})})})}),(0,n.jsx)("li",{className:"py-2",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/member-perks",children:(0,n.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_feather_user_plus.svg",alt:"User Add"})})})}),(0,n.jsx)("li",{className:"pt-2",children:(0,n.jsx)(s.O$,{activeClassName:"shadow-activeLink",href:"/dashboard/settings",children:(0,n.jsx)("a",{className:"inline-block rounded-2xl hover:shadow-lg",children:(0,n.jsx)("img",{className:"p-3",src:"/images/ic_feather_settings.svg",alt:"Setting"})})})})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,n.jsxs)("ul",{className:"flex flex-col pb-4",children:[(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/dashboard",children:(0,n.jsx)("p",{children:"Admin"})})}),(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/intake",children:(0,n.jsx)("p",{children:"Intake"})})}),(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/users",children:(0,n.jsx)("p",{children:"Users"})})}),(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/ballots",children:(0,n.jsx)("p",{children:"Ballots"})})}),(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/perks",children:(0,n.jsx)("p",{children:"Perks"})})}),(0,n.jsx)("li",{className:"py-1.5 cursor-pointer",children:(0,n.jsx)(s.O$,{activeClassName:"text-primary",href:"/admin/settings",children:(0,n.jsx)("p",{children:"Settings"})})})]})]}),(0,n.jsx)(l.Z,{className:"py-4 lg:hidden",theme:"dark"})]})};function c(e){var r=e.children;return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"dashboard-layout",children:(0,n.jsxs)("div",{className:"relative h-screen h-px mx-auto 2xl:min-h-105 max-w-404 px-4 lg:py-4 xl:py-16 2xl:py-24 flex flex-col",children:[(0,n.jsxs)("div",{className:"flex h-full flex-col lg:flex-row",children:[(0,n.jsx)("div",{className:"flex-none",children:(0,n.jsx)(o,{})}),(0,n.jsx)("div",{className:"pt-12 lg:pt-0 lg:pl-6 dashboard-content flex-grow h-full",children:r})]}),(0,n.jsx)("div",{className:"absolute py-8 left-0 bottom-0 right-0",children:(0,n.jsx)(a.Z,{theme:"dark"})})]})})})}},8517:function(e,r,t){"use strict";t.d(r,{sp:function(){return n},HA:function(){return a},uM:function(){return i},u0:function(){return s},Dz:function(){return l},M3:function(){return o},eK:function(){return c},wT:function(){return u},Vu:function(){return d}});var n=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS",payload:e}},a=function(e){return{type:"GET_DASHBOARD_DATA_DEMO_SUCCESS_ERROR",payload:e}},i=function(e,r){return{type:"GET_VOTES",payload:e,successCb:r}},s=function(e,r){return{type:"GET_VOTE_DETAIL",payload:e,callback:r}},l=function(e){return{type:"GET_VOTE_DETAIL_SUCCESS",payload:e}},o=function(e){return{type:"GET_VOTE_DETAIL_ERROR",payload:e}},c=function(e,r){return{type:"RECORD_VOTE",payload:e,callback:r}},u=function(e){return{type:"RECORD_VOTE_SUCCESS",payload:e}},d=function(e){return{type:"RECORD_VOTE_ERROR",payload:e}}},2897:function(){},5774:function(e,r,t){"use strict";t.d(r,{Ip:function(){return o},y3:function(){return c}});var n=t(7294),a=function(e,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function i(e){var r=e.className,t=e.counterClockwise,a=e.dashRatio,i=e.pathRadius,o=e.strokeWidth,c=e.style;return(0,n.createElement)("path",{className:r,style:Object.assign({},c,l({pathRadius:i,dashRatio:a,counterClockwise:t})),d:s({pathRadius:i,counterClockwise:t}),strokeWidth:o,fillOpacity:0})}function s(e){var r=e.pathRadius,t=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+r+"\n      a "+r+","+r+" "+t+" 1 1 0,"+2*r+"\n      a "+r+","+r+" "+t+" 1 1 0,-"+2*r+"\n    "}function l(e){var r=e.counterClockwise,t=e.dashRatio,n=e.pathRadius,a=2*Math.PI*n,i=(1-t)*a;return{strokeDasharray:a+"px "+a+"px",strokeDashoffset:(r?-i:i)+"px"}}var o=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return function(e,r){function t(){this.constructor=e}a(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}(r,e),r.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},r.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},r.prototype.getPathRatio=function(){var e=this.props,r=e.value,t=e.minValue,n=e.maxValue;return(Math.min(Math.max(r,t),n)-t)/(n-t)},r.prototype.render=function(){var e=this.props,r=e.circleRatio,t=e.className,a=e.classes,s=e.counterClockwise,l=e.styles,o=e.strokeWidth,c=e.text,u=this.getPathRadius(),d=this.getPathRatio();return(0,n.createElement)("svg",{className:a.root+" "+t,style:l.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,n.createElement)("circle",{className:a.background,style:l.background,cx:50,cy:50,r:50}):null,(0,n.createElement)(i,{className:a.trail,counterClockwise:s,dashRatio:r,pathRadius:u,strokeWidth:o,style:l.trail}),(0,n.createElement)(i,{className:a.path,counterClockwise:s,dashRatio:d*r,pathRadius:u,strokeWidth:o,style:l.path}),c?(0,n.createElement)("text",{className:a.text,style:l.text,x:50,y:50},c):null)},r.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},r}(n.Component);function c(e){var r=e.rotation,t=e.strokeLinecap,n=e.textColor,a=e.textSize,i=e.pathColor,s=e.pathTransition,l=e.pathTransitionDuration,o=e.trailColor,c=e.backgroundColor,d=null==r?void 0:"rotate("+r+"turn)",f=null==r?void 0:"center center";return{root:{},path:u({stroke:i,strokeLinecap:t,transform:d,transformOrigin:f,transition:s,transitionDuration:null==l?void 0:l+"s"}),trail:u({stroke:o,strokeLinecap:t,transform:d,transformOrigin:f}),text:u({fill:n,fontSize:a}),background:u({fill:c})}}function u(e){return Object.keys(e).forEach((function(r){null==e[r]&&delete e[r]})),e}}}]);